{"version":3,"file":"index.js","sources":["../../src/components/dropdown/dropdownButton.tsx","../../src/components/dropdown/dropdownMenu.tsx","../../src/components/dropdown/dropdown.tsx","../../src/components/notification/notificationHeader.tsx","../../src/components/notification/notificationBody.tsx","../../src/components/notification/notificationFooter.tsx","../../src/components/notification/notification.tsx","../../src/components/overflowMenu/overflowMenu.tsx","../../src/components/upperMenu/upperMenu.tsx"],"sourcesContent":["import React, {useEffect} from 'react';\nimport {useDropdown} from './dropdown';\nexport interface DropdownButtonProps {\n  className?: string;\n  disabled?: boolean;\n  children: React.ReactNode;\n\n  [others: string]: any;\n}\n\nconst DropdownButton: React.FC<DropdownButtonProps> = ({children, className, disabled, ...rest}) => {\n  const {onToggleMenu, setDropdownButtonDimensions, showMenu} = useDropdown();\n  const dropdownButtonRef = React.useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    if (dropdownButtonRef && dropdownButtonRef.current) {\n      const positionButton = dropdownButtonRef.current.getBoundingClientRect();\n      if (positionButton) setDropdownButtonDimensions({width: positionButton.width, height: positionButton.height});\n    }\n  }, [showMenu]);\n  return (\n    <div\n      className={`dropdown-button${disabled ? '_disabled' : ''} ${className || ''}`}\n      onClick={onToggleMenu}\n      ref={dropdownButtonRef}\n      {...rest}\n    >\n      {children}\n    </div>\n  );\n};\n\nexport default React.memo(DropdownButton);\n","import React, {useEffect} from 'react';\nimport ReactDOM from 'react-dom';\nimport {useDropdown} from './dropdown';\n\nexport interface DropdownMenuProps {\n  className?: string;\n  [others: string]: any;\n}\n\nconst DropdownMenu: React.FC<DropdownMenuProps> = ({className, children, ...rest}) => {\n  const ref = React.useRef<HTMLDivElement>(null);\n  const {showMenu, setDropdownMenuDimensions, position, dropdownRef, handleClickMenu} = useDropdown();\n\n  useEffect(() => {\n    if (ref && ref.current) {\n      const positionMenu = ref.current.getBoundingClientRect();\n      if (positionMenu)\n        setDropdownMenuDimensions({\n          width: positionMenu.width,\n          height: positionMenu.height,\n        });\n    }\n  }, [showMenu]);\n\n  const content = (\n    <div\n      ref={ref}\n      className={`dropdown-menu ${showMenu ? '' : 'hidden'} ${className || ''}`}\n      style={position}\n      onClick={handleClickMenu}\n      {...rest}\n    >\n      {children}\n    </div>\n  );\n  if (dropdownRef && dropdownRef.current) {\n    const root = document.getElementById('root');\n    return ReactDOM.createPortal(content, dropdownRef.current || root || document.body);\n  }\n  return null;\n};\n\nexport default DropdownMenu;\n","import React, {useContext, useEffect, useMemo, useRef, useState} from 'react';\n\nexport {default as DropdownButton} from './dropdownButton';\nexport {default as DropdownMenu} from './dropdownMenu';\nconst DropdownContext = React.createContext({});\ntype DropdownPosition = 'top' | 'bottom' | 'right' | 'left';\ninterface DropdownProps {\n  className?: string;\n  onChangeToggleMenu?: (state: boolean) => void;\n  itemsDivider?: boolean;\n  forceRefresh?: number;\n  defaultShow?: boolean;\n  keepShown?: boolean;\n  placement?: DropdownPosition;\n  [others: string]: any;\n}\n\ninterface IDropdownContext {\n  showMenu: boolean;\n  setDropdownMenuDimensions: (dimensions: {width: number; height: number}) => void;\n  setDropdownButtonDimensions: (dimensions: {width: number; height: number}) => void;\n  handleClickMenu: (e: React.MouseEvent<HTMLDivElement>) => void;\n  position: {left: string; top: string};\n  itemsDivider: boolean;\n  dropdownRef: React.RefObject<HTMLDivElement>;\n  onToggleMenu: () => void;\n}\n\nconst Dropdown: React.FC<DropdownProps> = ({\n  children,\n  className,\n  onChangeToggleMenu,\n  itemsDivider,\n  forceRefresh,\n  defaultShow,\n  keepShown = false,\n  placement = 'bottom',\n  ...rest\n}) => {\n  const [showMenu, setShowMenu] = useState(false);\n  const [refresh, setRefresh] = useState(forceRefresh ? forceRefresh : 0);\n  const [dropdownMenuDim, setDropdownMenuDim] = useState({width: 0, height: 0});\n  const [dropdownButtonDim, setDropdownButtonDim] = useState({width: 0, height: 0});\n\n  const dropdownRef = useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    if (defaultShow !== undefined && defaultShow !== showMenu) {\n      setShowMenu(defaultShow as boolean);\n    }\n  }, [defaultShow]);\n\n  useEffect(() => {\n    if (forceRefresh && refresh !== forceRefresh) setRefresh(forceRefresh);\n  }, [forceRefresh, refresh]);\n\n  const onToggleMenu = () => {\n    setShowMenu((prev) => {\n      if (typeof onChangeToggleMenu === 'function') onChangeToggleMenu(!prev);\n      return !prev;\n    });\n  };\n\n  const handleClickOutside = (event: MouseEvent) => {\n    if (event && event.target) {\n      if (\n        dropdownRef &&\n        dropdownRef.current &&\n        dropdownRef.current.getAttribute('data-show') === 'true' &&\n        !dropdownRef.current.contains(event.target as Node)\n      ) {\n        setShowMenu(false);\n        if (typeof onChangeToggleMenu === 'function') onChangeToggleMenu(false);\n      }\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener('click', handleClickOutside);\n    document.addEventListener('scroll', () => setRefresh((prev) => prev++));\n    return () => {\n      document.removeEventListener('click', handleClickOutside);\n      document.removeEventListener('scroll', () => setRefresh((prev) => prev++));\n    };\n  }, []);\n\n  const topStr = (top: number, menuHeight: number) => `calc(${top}px - ${menuHeight}px - var(--unit))`;\n  const bottomStr = (top: number, buttonHeight: number) => `calc(${top}px + ${buttonHeight}px + var(--unit))`;\n  const rightStr = (left: number, buttonWidth: number) => `calc(${left}px + ${buttonWidth}px + var(--unit))`;\n  const leftStr = (left: number, menuWidth: number) => `calc(${left}px - ${menuWidth}px - var(--unit))`;\n  const leftAlignment = (left: number) => `${left}px`;\n  const rightAlignment = (left: number, menuWidth: number, buttonWidth: number) =>\n    `calc(${left}px + ${buttonWidth}px - ${menuWidth}px)`;\n  const topAlignment = (top: number) => `${top}px`;\n  const bottomAlignment = (top: number, menuHeight: number, buttonHeight: number) =>\n    `calc(${top}px + ${buttonHeight}px - ${menuHeight}px)`;\n\n  const position = useMemo(() => {\n    let left,\n      top = '',\n      dropdownMenuWidth = 0;\n\n    if (dropdownRef && dropdownRef.current) {\n      const position = dropdownRef.current.getBoundingClientRect();\n      dropdownMenuWidth = dropdownMenuDim.width < dropdownButtonDim.width ? dropdownButtonDim.width : dropdownMenuDim.width;\n      const {clientHeight, clientWidth} = document.body;\n      switch (placement) {\n        case 'top':\n          if (position.top - dropdownMenuDim.height - 8 < 0) {\n            top = bottomStr(position.top, dropdownButtonDim.height);\n          } else {\n            top = topStr(position.top, dropdownMenuDim.height);\n          }\n          if (position.left + dropdownMenuWidth > clientWidth) {\n            left = rightAlignment(position.left, dropdownMenuWidth, dropdownButtonDim.width);\n          } else {\n            left = leftAlignment(position.left);\n          }\n          break;\n        case 'right':\n          if (position.left + dropdownMenuWidth + 8 > clientWidth) {\n            left = leftStr(position.left, dropdownMenuWidth);\n          } else {\n            left = rightStr(position.left, dropdownButtonDim.width);\n          }\n          if (position.top + dropdownMenuDim.height > clientHeight) {\n            top = bottomAlignment(position.top, dropdownMenuDim.height, dropdownButtonDim.height);\n          } else {\n            top = topAlignment(position.top);\n          }\n          break;\n        case 'bottom':\n          if (position.top + dropdownMenuDim.height + 8 > clientHeight) {\n            top = topStr(position.top, dropdownMenuDim.height);\n          } else {\n            top = bottomStr(position.top, dropdownButtonDim.height);\n          }\n          if (position.left + dropdownMenuWidth > clientWidth) {\n            left = rightAlignment(position.left, dropdownMenuWidth, dropdownButtonDim.width);\n          } else {\n            left = leftAlignment(position.left);\n          }\n          break;\n        case 'left':\n          if (position.left - dropdownMenuWidth - 8 < 0) {\n            left = rightStr(position.left, dropdownButtonDim.width);\n          } else {\n            left = leftStr(position.left, dropdownMenuWidth);\n          }\n          if (position.top + dropdownMenuDim.height > clientHeight) {\n            top = bottomAlignment(position.top, dropdownMenuDim.height, dropdownButtonDim.height);\n          } else {\n            top = topAlignment(position.top);\n          }\n          break;\n      }\n    }\n    return {left, top, width: `${dropdownMenuWidth}px`};\n  }, [dropdownMenuDim, dropdownButtonDim]);\n\n  const handleClickMenu = () => {\n    if (!keepShown) {\n      setShowMenu(false);\n      if (typeof onChangeToggleMenu === 'function') onChangeToggleMenu(false);\n    }\n  };\n\n  return (\n    <DropdownContext.Provider\n      value={{\n        showMenu,\n        setDropdownMenuDimensions: setDropdownMenuDim,\n        setDropdownButtonDimensions: setDropdownButtonDim,\n        handleClickMenu,\n        itemsDivider,\n        dropdownRef,\n        onChangeToggleMenu,\n        onToggleMenu,\n        position,\n      }}\n    >\n      <div ref={dropdownRef} className={`dropdown ${className || ''}`} data-show={showMenu} {...rest}>\n        {children}\n      </div>\n    </DropdownContext.Provider>\n  );\n};\n\nexport default Dropdown;\n/**\n *\n * @internal\n */\nexport const useDropdown = () => useContext(DropdownContext) as IDropdownContext;\n","import React from 'react';\n\ninterface INotificationHeader {\n  className?: string;\n  [others: string]: any;\n}\n\nconst NotificationHeader: React.FC<INotificationHeader> = (props) => {\n  const {className, children, ...rest} = props;\n\n  return (\n    <div className={`notification-header ${className || ''}`} {...rest}>\n      {children}\n    </div>\n  );\n};\n\nexport default NotificationHeader;\n","import React from 'react';\n\ninterface INotificationBody {\n  className?: string;\n  [others: string]: any;\n}\n\nconst NotificationBody: React.FC<INotificationBody> = (props) => {\n  const {className, children, ...rest} = props;\n\n  return (\n    <div className={`notification-body ${className || ''}`} {...rest}>\n      {children}\n    </div>\n  );\n};\n\nexport default NotificationBody;\n","import React from 'react';\n\ninterface INotificationFooter {\n  className?: string;\n  [others: string]: any;\n}\n\nconst NotificationFooter: React.FC<INotificationFooter> = (props) => {\n  const {className, children, ...rest} = props;\n\n  return (\n    <div className={`notification-footer ${className || ''}`} {...rest}>\n      {children}\n    </div>\n  );\n};\n\nexport default NotificationFooter;\n","import React, {useEffect, useRef} from 'react';\nimport ReactDOM from 'react-dom';\n\nexport {default as NotificationHeader} from './notificationHeader';\nexport {default as NotificationBody} from './notificationBody';\nexport {default as NotificationFooter} from './notificationFooter';\n\ninterface INotification {\n  /**\n   * Tell whether you want the close icon or not\n   */\n  icon?: any;\n  /**\n   * Additional styling if needed\n   */\n  className?: string;\n  /**\n   * Change status to Success\n   */\n  success?: boolean;\n  /**\n   * Change status to Error\n   */\n  error?: boolean;\n  /**\n   * Change status to Info\n   */\n  info?: boolean;\n  /**\n   * Change status to Warning\n   */\n  warning?: boolean;\n  /**\n   * Change status to Read\n   */\n  read?: boolean;\n  /**\n   * State for showing the notification\n   */\n  show: boolean;\n  setShow?: (show: boolean) => void;\n  /**\n   * handler function for the close button\n   */\n  onClose?: () => void;\n  /**\n   * Handler to show or not as a portal\n   */\n  renderAsPortal?: boolean;\n  [others: string]: any;\n}\n\nconst Notification: React.FC<INotification> = (props) => {\n  const {className, renderAsPortal, icon, children, onClose, success, error, warning, info, read, show, setShow, ...rest} =\n    props;\n\n  const iconTestId = rest && rest['data-testid'] ? rest['data-testid'] + '-close-test' : undefined;\n  const closeTimer: any = useRef(null);\n  const state = () => {\n    if (success) return 'success';\n    if (error) return 'error';\n    if (info) return 'info';\n    if (warning) return 'warning';\n    if (read) return 'read';\n    return 'read';\n  };\n\n  useEffect(() => {\n    if (show && renderAsPortal && !onClose) {\n      clearTimeout(closeTimer.current);\n      closeTimer.current = setTimeout(() => {\n        if (typeof setShow === 'function') setShow(false);\n      }, 5000);\n    }\n\n    return () => {\n      clearTimeout(closeTimer.current);\n    };\n  }, [show]);\n\n  const IconClose = () => (\n    <button type=\"button\" className=\"notification-close-button\" onClick={onClose} data-testid={iconTestId || undefined}>\n      <span className=\"material-icons\">close</span>\n    </button>\n  );\n  const content = show ? (\n    <div className={`${renderAsPortal ? 'tag-ds' : ''} notification_${state()} ${className || ''}`} {...rest}>\n      {typeof onClose === 'function' && <IconClose />}\n      {icon ? (\n        <>\n          <div className=\"notification-icon\">{icon}</div>\n          <div className=\"notification-content\">{children}</div>\n        </>\n      ) : (\n        children\n      )}\n    </div>\n  ) : null;\n\n  const container = document.getElementById('root') || document.body;\n  if (renderAsPortal) return ReactDOM.createPortal(content, container as Element);\n  return content;\n};\n\nexport default Notification;\n","import React, {useEffect, useRef} from 'react';\n\nexport interface IOverflowMenuProps {\n  show: boolean;\n  /**\n   * Title of the Overflow Menu\n   */\n  title: string;\n  /**\n   * Name of the action if needed\n   */\n  action?: string;\n  /**\n   * Displays close button and handles the event\n   */\n  onClose: () => void;\n  showCloseButton?: boolean;\n  /**\n   * Handler for the action Button\n   */\n  onAction?: () => void;\n  className?: string;\n  parentRef?: any;\n  [other: string]: any;\n}\n\nconst OverflowMenu: React.FC<IOverflowMenuProps> = ({\n  show,\n  children,\n  title,\n  action,\n  onClose,\n  showCloseButton,\n  onAction,\n  className,\n  parentRef,\n  ...rest\n}) => {\n  const overflowRef = useRef<HTMLDivElement>(null);\n  const handleCloseOutsideOverflow = (event: MouseEvent) => {\n    if (event && event.target) {\n      if (\n        ((overflowRef && overflowRef.current && !overflowRef.current.contains(event.target as Node) && !parentRef) ||\n          (overflowRef &&\n            overflowRef.current &&\n            !overflowRef.current.contains(event.target as Node) &&\n            parentRef &&\n            parentRef.current &&\n            !parentRef.current.contains(event.target as Node))) &&\n        show\n      ) {\n        onClose();\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (!showCloseButton && !(rest && rest['data-handlecloseclick'])) {\n      document.addEventListener('mousemove', handleCloseOutsideOverflow);\n    } else {\n      document.addEventListener('click', handleCloseOutsideOverflow);\n    }\n    return () => {\n      document.removeEventListener('mousemove', handleCloseOutsideOverflow);\n      document.removeEventListener('click', handleCloseOutsideOverflow);\n    };\n  });\n  return show ? (\n    <div\n      ref={overflowRef}\n      className={`overflow-menu ${className || ''}`}\n      data-testid={rest['data-testid'] ? rest['data-testid'] : undefined}\n      {...rest}\n    >\n      <div className=\"overflow-menu-header\">\n        {title && <div className=\"small-title mr3\">{title}</div>}\n        {action && (\n          <div\n            className=\"overflow-menu-action link_small\"\n            onClick={onAction}\n            data-testid={rest['data-testid'] ? rest['data-testid'] + '-action-button' : undefined}\n          >\n            {action}\n          </div>\n        )}\n\n        {showCloseButton && (\n          <button\n            type=\"button\"\n            className=\"overflow-menu-close\"\n            onClick={onClose}\n            data-testid={rest['data-testid'] ? rest['data-testid'] + '-close-button' : undefined}\n          >\n            <span className=\"material-icons\">close</span>\n          </button>\n        )}\n      </div>\n      <div className=\"overflow-menu-body\">{children}</div>\n    </div>\n  ) : null;\n};\n\nexport default OverflowMenu;\n","import React, {useRef} from 'react';\nimport Dropdown, {DropdownButton, DropdownMenu} from '../dropdown/dropdown';\nimport Notification, {NotificationBody, NotificationFooter, NotificationHeader} from '../notification/notification';\nimport OverflowMenu from '../overflowMenu/overflowMenu';\ntype NotificationType = 'error' | 'info' | 'read' | 'warning';\n\nexport interface INotification {\n  header: string;\n  body: string;\n  footer?: React.ReactElement;\n  type: NotificationType;\n  show?: boolean;\n  created?: Date;\n  icon?: any;\n}\n\ninterface IUpperMenu {\n  /**\n   * For setting the Avatar info\n   */\n  avatar: {\n    img: string | any;\n    title: string;\n    subtitle?: string;\n  };\n  /**\n   * Title of the Upper Menu\n   */\n  title?: string;\n  /**\n   * Notification List containing header, body, footer, type, show and created and actions in\n   * the overflow menu of notifications\n   */\n  notifications?: {\n    setShowItems: () => void;\n    onAction?: () => void;\n    action?: string;\n    emptyMessage?: any;\n    title: string;\n    items: INotification[];\n    showItems: boolean;\n    showCloseButton?: boolean;\n  };\n  /**\n   * Options of the Upper Menu\n   */\n  options?: {name: string; onClick: () => void}[];\n  className?: string;\n  [others: string]: any;\n}\n\nconst UpperMenu: React.FC<IUpperMenu> = (props: IUpperMenu) => {\n  const {avatar, title, notifications, options, className, ...rest} = props;\n  const notifButtonRef = useRef<HTMLButtonElement>(null);\n\n  const notificationType = (type: NotificationType) => {\n    if (type === 'error') return {error: true};\n    if (type === 'info') return {info: true};\n    if (type === 'read') return {read: true};\n    if (type === 'warning') return {warning: true};\n    return {info: true};\n  };\n\n  const renderNotification = (_notification: INotification, idx: number) => {\n    return (\n      <Notification\n        {...notificationType(_notification.type)}\n        className=\"upper-menu-overflow-notification\"\n        show={_notification.show ?? true}\n        key={`upper-menu-notification-${idx}`}\n        icon={_notification.icon}\n      >\n        {_notification.header && (\n          <NotificationHeader>\n            {_notification.header}\n            {_notification.created && (\n              <span className=\"notification-center-text\">{_notification.created.getSeconds()}s</span>\n            )}\n          </NotificationHeader>\n        )}\n        {_notification.body && <NotificationBody>{_notification.body}</NotificationBody>}\n        {_notification.footer && <NotificationFooter>{_notification.footer}</NotificationFooter>}\n      </Notification>\n    );\n  };\n\n  return (\n    <div\n      className={`upper-menu ${className || ''}`}\n      data-testid={rest && rest['data-testid'] ? rest['data-testid'] : undefined}\n    >\n      {title && (\n        <div\n          className=\"upper-menu_left\"\n          data-testid={rest && rest['data-testid'] ? rest['data-testid'] + '-title' : undefined}\n        >\n          {title}\n        </div>\n      )}\n      <div className=\"upper-menu_right\">\n        {notifications && (\n          <div className=\"upper-menu-notifications\">\n            <button\n              type=\"button\"\n              ref={notifButtonRef}\n              className=\"upper-menu-icon\"\n              onClick={notifications.setShowItems}\n              data-testid={rest && rest['data-testid'] ? rest['data-testid'] + '-notif-icon' : undefined}\n            >\n              {notifications.items.length > 0 && <div className=\"badge_small\">{notifications.items.length}</div>}\n              <span className=\"material-icons\">notifications</span>\n            </button>\n            <OverflowMenu\n              show={notifications.showItems}\n              className=\"upper-menu-overflow notification-center\"\n              title={notifications.title}\n              onClose={notifications.setShowItems}\n              action={notifications.action}\n              onAction={notifications.onAction}\n              parentRef={notifButtonRef}\n            >\n              {notifications.items.length > 0\n                ? notifications.items.map((_not: INotification, idx) => renderNotification(_not, idx))\n                : notifications.emptyMessage}\n            </OverflowMenu>\n          </div>\n        )}\n        <div className=\"avatar-wrapper\">\n          {typeof avatar.img === 'string' ? (\n            <img src={avatar.img} alt=\"avatar icon\" className=\"avatar_xsmall\" />\n          ) : (\n            avatar.img\n          )}\n          <div className=\"avatar-text-wrapper\">\n            <span className=\"avatar-title\">{avatar.title}</span>\n            {avatar.subtitle && <span className=\"avatar-subtitle\">{avatar.subtitle}</span>}\n          </div>\n        </div>\n\n        {options && options.length > 0 && (\n          <Dropdown className=\"upper-menu-dropdown\">\n            <DropdownButton>\n              <button\n                type=\"button\"\n                className=\"upper-menu-info\"\n                data-testid={rest && rest['data-testid'] ? rest['data-testid'] + '-more-info' : undefined}\n              >\n                <span className=\"material-icons\">more_vert</span>\n              </button>\n            </DropdownButton>\n            <DropdownMenu>\n              {options.map(({name, onClick}, idx) => (\n                <li className=\"dropdown-item\" onClick={onClick} key={idx + '-upper-menu-dropdown'}>\n                  {name}\n                </li>\n              ))}\n            </DropdownMenu>\n          </Dropdown>\n        )}\n      </div>\n    </div>\n  );\n};\nexport default UpperMenu;\n"],"names":["DropdownButton$1","React","memo","_a","children","className","disabled","rest","__rest","_b","useDropdown","onToggleMenu","setDropdownButtonDimensions","showMenu","dropdownButtonRef","useRef","useEffect","current","positionButton","getBoundingClientRect","width","height","_jsx","__assign","concat","onClick","ref","DropdownMenu","setDropdownMenuDimensions","position","dropdownRef","handleClickMenu","positionMenu","content","jsx","style","root","document","getElementById","ReactDOM","createPortal","body","DropdownContext","createContext","Dropdown","onChangeToggleMenu","itemsDivider","forceRefresh","defaultShow","keepShown","_c","placement","_d","__read","useState","setShowMenu","_e","refresh","setRefresh","_f","dropdownMenuDim","setDropdownMenuDim","_g","dropdownButtonDim","setDropdownButtonDim","undefined","handleClickOutside","event","target","getAttribute","contains","addEventListener","prev","removeEventListener","topStr","top","menuHeight","bottomStr","buttonHeight","rightStr","left","buttonWidth","leftStr","menuWidth","leftAlignment","rightAlignment","topAlignment","bottomAlignment","useMemo","dropdownMenuWidth","position_1","clientHeight","clientWidth","Provider","value","useContext","NotificationHeader","props","NotificationBody","NotificationFooter","Notification","renderAsPortal","icon","onClose","success","error","warning","info","show","read","setShow","iconTestId","closeTimer","clearTimeout","setTimeout","_jsxs","jsxs","type","_Fragment","container","OverflowMenu","title","action","showCloseButton","onAction","parentRef","overflowRef","handleCloseOutsideOverflow","avatar","notifications","options","notifButtonRef","setShowItems","items","length","showItems","map","_not","idx","_notification","_createElement","createElement","key","header","created","getSeconds","footer","renderNotification","emptyMessage","img","src","alt","subtitle","DropdownButton","name"],"mappings":"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"}