"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react/jsx-runtime"),t=require("react"),n=require("react-dom");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=r(t),o=r(n),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var c in t=arguments[n])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(r=Object.getOwnPropertySymbols(e);c<r.length;c++)t.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(e,r[c])&&(n[r[c]]=e[r[c]])}return n}function u(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,c,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){c={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(c)throw c.error}}return i}var l=function(t){var n=t.id,r=t.title,c=t.href,o=a(t,["id","title","href"]);return e.jsx("a",i({href:c,target:"_self",id:n,"data-testid":o&&o["data-testid"]?"".concat(o["data-testid"],"-link"):void 0,className:"breadcrumb-item"},o,{children:r.length>30?r.substring(0,30)+"...":r}),n)},d=c.default.memo((function(n){var r=n.children,o=n.className,u=n.disabled,l=a(n,["children","className","disabled"]),d=p(),s=d.onToggleMenu,f=d.setDropdownButtonDimensions,h=d.showMenu,m=c.default.useRef(null);return t.useEffect((function(){if(m&&m.current){var e=m.current.getBoundingClientRect();e&&f({width:e.width,height:e.height})}}),[h]),e.jsx("div",i({className:"dropdown-button".concat(u?"_disabled":""," ").concat(o||""),onClick:s,ref:m},l,{children:r}))})),s=function(n){var r=n.className,u=n.children,l=a(n,["className","children"]),d=c.default.useRef(null),s=p(),f=s.showMenu,h=s.setDropdownMenuDimensions,m=s.position,v=s.dropdownRef,g=s.handleClickMenu;t.useEffect((function(){if(d&&d.current){var e=d.current.getBoundingClientRect();e&&h({width:e.width,height:e.height})}}),[f]);var b=e.jsx("div",i({ref:d,className:"dropdown-menu ".concat(f?"":"hidden"," ").concat(r||""),style:m,onClick:g},l,{children:u}));if(v&&v.current){var w=document.getElementById("root");return o.default.createPortal(b,v.current||w||document.body)}return null},f=c.default.createContext({}),h=function(n){var r=n.children,c=n.className,o=n.onChangeToggleMenu,l=n.itemsDivider,d=n.forceRefresh,s=n.defaultShow,h=n.keepShown,p=void 0!==h&&h,m=n.placement,v=void 0===m?"bottom":m,g=a(n,["children","className","onChangeToggleMenu","itemsDivider","forceRefresh","defaultShow","keepShown","placement"]),b=u(t.useState(!1),2),w=b[0],x=b[1],y=u(t.useState(d||0),2),j=y[0],N=y[1],E=u(t.useState({width:0,height:0}),2),M=E[0],C=E[1],O=u(t.useState({width:0,height:0}),2),k=O[0],S=O[1],D=t.useRef(null);t.useEffect((function(){void 0!==s&&s!==w&&x(s)}),[s]),t.useEffect((function(){d&&j!==d&&N(d)}),[d,j]);var R=function(e){e&&e.target&&D&&D.current&&"true"===D.current.getAttribute("data-show")&&!D.current.contains(e.target)&&(x(!1),"function"==typeof o&&o(!1))};t.useEffect((function(){return document.addEventListener("click",R),document.addEventListener("scroll",(function(){return N((function(e){return e++}))})),function(){document.removeEventListener("click",R),document.removeEventListener("scroll",(function(){return N((function(e){return e++}))}))}}),[]);var _=function(e,t){return"calc(".concat(e,"px - ").concat(t,"px - var(--unit))")},B=function(e,t){return"calc(".concat(e,"px + ").concat(t,"px + var(--unit))")},P=function(e,t){return"calc(".concat(e,"px + ").concat(t,"px + var(--unit))")},T=function(e,t){return"calc(".concat(e,"px - ").concat(t,"px - var(--unit))")},L=function(e){return"".concat(e,"px")},q=function(e,t,n){return"calc(".concat(e,"px + ").concat(n,"px - ").concat(t,"px)")},I=function(e){return"".concat(e,"px")},A=function(e,t,n){return"calc(".concat(e,"px + ").concat(n,"px - ").concat(t,"px)")},z=t.useMemo((function(){var e,t="",n=0;if(D&&D.current){var r=D.current.getBoundingClientRect();n=M.width<k.width?k.width:M.width;var c=document.body,o=c.clientHeight,i=c.clientWidth;switch(v){case"top":t=r.top-M.height-8<0?B(r.top,k.height):_(r.top,M.height),e=r.left+n>i?q(r.left,n,k.width):L(r.left);break;case"right":e=r.left+n+8>i?T(r.left,n):P(r.left,k.width),t=r.top+M.height>o?A(r.top,M.height,k.height):I(r.top);break;case"bottom":t=r.top+M.height+8>o?_(r.top,M.height):B(r.top,k.height),e=r.left+n>i?q(r.left,n,k.width):L(r.left);break;case"left":e=r.left-n-8<0?P(r.left,k.width):T(r.left,n),t=r.top+M.height>o?A(r.top,M.height,k.height):I(r.top)}}return{left:e,top:t,width:"".concat(n,"px")}}),[M,k]);return e.jsx(f.Provider,i({value:{showMenu:w,setDropdownMenuDimensions:C,setDropdownButtonDimensions:S,handleClickMenu:function(){p||(x(!1),"function"==typeof o&&o(!1))},itemsDivider:l,dropdownRef:D,onChangeToggleMenu:o,onToggleMenu:function(){x((function(e){return"function"==typeof o&&o(!e),!e}))},position:z}},{children:e.jsx("div",i({ref:D,className:"dropdown ".concat(c||""),"data-show":w},g,{children:r}))}))},p=function(){return t.useContext(f)};exports.BreadcrumbItem=l,exports.default=function(t){var n=t.id,r=t.className,o=t.children,u=a(t,["id","className","children"]);return function(){var t,a=[],f=[],p=[];if(o){var m=c.default.Children.toArray(o);if(m.length>1)m.length>4?(m.forEach((function(e,t){t>0&&t<m.length-1?f.push(c.default.cloneElement(e,i(i({},e.props),{className:"dropdown-item"}))):a.push(c.default.cloneElement(e,i(i({},e.props),{className:t===m.length-1?"breadcrumb-item_active":"breadcrumb-item"})))})),p=[a[0],(t=f,e.jsxs(h,i({"data-testid":u&&u["data-testid"]?"".concat(u["data-testid"],"-dropdown"):void 0},{children:[e.jsx(d,i({className:"breadcrumb-dots"},{children:e.jsx("span",i({className:"material-icons"},{children:"more_horiz"}))})),e.jsx(s,{children:t})]}),t)),a[1]]):p=m.map((function(e,t){return c.default.cloneElement(e,i(i({},e.props),{className:t===m.length-1?"breadcrumb-item_active":"breadcrumb-item"}))}));else if(m[0].type===l){var v=c.default.cloneElement(m[0],i(i({},m[0].props),{className:"breadcrumb-item_active"}));p=[v]}}return e.jsx("div",i({id:n,className:"breadcrumb-container ".concat(r||"")},u,{children:p.map((function(t,n){return n<p.length-1?[t,(r=n,e.jsx("span",{className:"breadcrumb-item-separator"},r+"item-separator"))]:t;var r}))}))}()};
//# sourceMappingURL=index.js.map
