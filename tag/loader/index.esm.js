import{jsxs as t,jsx as e}from"react/jsx-runtime";import{useRef as r,useEffect as a,useState as s}from"react";var n=function(){return n=Object.assign||function(t){for(var e,r=1,a=arguments.length;r<a;r++)for(var s in e=arguments[r])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},n.apply(this,arguments)};function c(t,e){var r={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(r[a]=t[a]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(a=Object.getOwnPropertySymbols(t);s<a.length;s++)e.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(t,a[s])&&(r[a[s]]=t[a[s]])}return r}var i=function(s){var i=s.percentage,o=s.HasText,d=s.error,l=s.success,u=s.className,v=c(s,["percentage","HasText","error","success","className"]),p=r(null),f=r(null);a((function(){p.current&&(p.current.style.animationDelay="0",p.current.style.transition="stroke-dashoffset 0.2s linear",p.current.style.strokeDashoffset="".concat((100-i)/100*87+213),100===i&&f.current&&p.current&&(d?f.current.classList.add("error"):l&&f.current.classList.add("success")))}),[i,d,l]);return t("div",n({className:"loader-wrapper ".concat(u||""),"data-testid":v&&v["data-testid"]?v["data-testid"]:void 0},{children:[e("div",n({ref:f,className:"svg-container_circular ".concat(d?"error":l?"success":""),"data-testid":v&&v["data-testid"]?"".concat(v["data-testid"],"-svg-container"):void 0},{children:e("svg",n({className:"svg-content",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:e("path",{className:"circle-svg",ref:p,d:"M16 30C8.26801 30 2 23.732 2 16C2 8.26801 8.26801 2 16 2C23.732 2 30 8.26801 30 16C30 23.732 23.732 30 16 30Z",stroke:"rgb(0, 154, 204)",strokeWidth:"4"})}))})),o]}))},o=function(s){var i=s.percentage,o=s.HasText,d=s.error,l=s.success,u=s.className,v=c(s,["percentage","HasText","error","success","className"]),p=r(null),f=r(null);a((function(){p.current&&(p.current.style.animationDelay="0",p.current.style.transition="stroke-dashoffset 0.2s linear",p.current.style.strokeDashoffset="".concat((100-i)/100*135+165),100===i&&f.current&&p.current&&(d?f.current.classList.add("error"):l&&f.current.classList.add("success")))}),[i,d,l]);return t("div",n({className:"loader-wrapper ".concat(u||""),"data-testid":v&&v["data-testid"]?v["data-testid"]:void 0},{children:[e("div",n({className:"svg-container ".concat(function(){if(100!==i){if(d)return"error";if(l)return"success"}return""}()),"data-percentage":"".concat(i,"%"),ref:f,"data-testid":v&&v["data-testid"]?"".concat(v["data-testid"],"-svg-container"):void 0},{children:e("svg",n({className:"svg-content",width:f&&f.current&&"24px"===f.current.style.width?"32":"56",height:"32",viewBox:f&&f.current&&"24px"===f.current.style.width?"0 0 32 32":"0 0 56 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:e("path",{className:"oval-svg",ref:p,d:"M28 2H40C47.732 2 54 8.26801 54 16C54 23.732 47.732 30 40\n            30H28H16C8.26801 30 2 23.732 2 16C2 8.26801 8.26801 2 16 2H28Z",stroke:"rgb(0, 154, 204)",strokeWidth:"4",strokeLinecap:"round"})}))})),o]}))},d=function(r){var d=r.title,l=r.subtitle,u=r.spinner,v=r.percentage,p=void 0===v?{value:0,show:!1}:v,f=r.error,h=r.success,m=r.automatic,g=r.className,y=c(r,["title","subtitle","spinner","percentage","error","success","automatic","className"]),w=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var a,s,n=r.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(a=n.next()).done;)c.push(a.value)}catch(t){s={error:t}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return c}(s(m?0:null),2),N=w[0],x=w[1];a((function(){var t;return m&&(t=setInterval((function(){x((function(t){return t<100?t+5:t}))}),250)),function(){clearInterval(t)}}));var b=function(){return d?t("div",n({className:"loader-text-wrapper"},{children:[e("span",n({className:"loader-title","data-testid":y&&y["data-testid"]?"".concat(y["data-testid"],"-title"):void 0},{children:d})),l&&e("span",n({className:"loader-subtitle","data-testid":y&&y["data-testid"]?"".concat(y["data-testid"],"-subtitle"):void 0},{children:l}))]})):null};return u?d?t("div",n({className:"loader-wrapper ".concat(g||""),"data-testid":y&&y["data-testid"]?y["data-testid"]:void 0},{children:[e("div",{className:"spinner","data-testid":y&&y["data-testid"]?"".concat(y["data-testid"],"-spinner"):void 0}),e(b,{})]})):e("div",{className:"spinner ".concat(g||""),"data-testid":y&&y["data-testid"]?"".concat(y["data-testid"],"-spinner"):void 0}):p.show?e(o,{className:g,percentage:m?N:p.value,HasText:e(b,{}),error:m?N>=95&&f:f,success:m?N>=95&&h:h,"data-testid":y&&y["data-testid"]?y["data-testid"]:null}):e(i,{className:g,percentage:m?N:p.value,HasText:e(b,{}),error:m?N>=95&&f:f,success:m?N>=95&&h:h,"data-testid":y&&y["data-testid"]?y["data-testid"]:null})};export{d as default};
//# sourceMappingURL=index.esm.js.map
