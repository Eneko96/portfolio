import{jsxs as t,jsx as e,Fragment as n}from"react/jsx-runtime";import a,{useRef as i,useEffect as o,useState as c,useContext as r,useMemo as d}from"react";import l from"react-dom";var s=function(){return s=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},s.apply(this,arguments)};function u(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]])}return n}function h(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var a,i,o=n.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(a=o.next()).done;)c.push(a.value)}catch(t){i={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return c}var m=function(t){var e=t.className,n=t.children,i=u(t,["className","children"]),o=null;return n&&(o=a.cloneElement(n,s(s(s({},n.props),i),{className:"header-logo ".concat(n.props.className||""," ").concat(e||"")}))),o},f=function(n){var a=n.show,c=n.children,r=n.title,d=n.action,l=n.onClose,h=n.showCloseButton,m=n.onAction,f=n.className,p=n.parentRef,v=u(n,["show","children","title","action","onClose","showCloseButton","onAction","className","parentRef"]),g=i(null),w=function(t){t&&t.target&&(g&&g.current&&!g.current.contains(t.target)&&!p||g&&g.current&&!g.current.contains(t.target)&&p&&p.current&&!p.current.contains(t.target))&&a&&l()};return o((function(){return h||v&&v["data-handlecloseclick"]?document.addEventListener("click",w):document.addEventListener("mousemove",w),function(){document.removeEventListener("mousemove",w),document.removeEventListener("click",w)}})),a?t("div",s({ref:g,className:"overflow-menu ".concat(f||""),"data-testid":v["data-testid"]?v["data-testid"]:void 0},v,{children:[t("div",s({className:"overflow-menu-header"},{children:[r&&e("div",s({className:"small-title mr3"},{children:r})),d&&e("div",s({className:"overflow-menu-action link_small",onClick:m,"data-testid":v["data-testid"]?v["data-testid"]+"-action-button":void 0},{children:d})),h&&e("button",s({type:"button",className:"overflow-menu-close",onClick:l,"data-testid":v["data-testid"]?v["data-testid"]+"-close-button":void 0},{children:e("span",s({className:"material-icons"},{children:"close"}))}))]})),e("div",s({className:"overflow-menu-body"},{children:c}))]})):null},p=function(i){var o=i.children,r=i.name,d=i.onClick,l=i.disabled,m=i.className,f=i.arrow,p=void 0===f?"left":f,v=i.icon,g=u(i,["children","name","onClick","disabled","className","arrow","icon"]),w=h(c(!1),2),b=w[0],N=w[1];return t(n,{children:[e("button",s({type:"button",disabled:l,className:"list-icon tree-element ".concat(m||""),onClick:function(t){N(!b),"function"==typeof d&&d(t)}},g,{children:t("li",s({className:"item-condensed tree-li"},{children:[e("span",o||v?s({className:"material-icons icon-order"},{children:v||(v||"left"!==p?"":"arrow_right")}):{className:"icon-order"}),r,"right"===p&&o&&e("span",s({className:"material-icons tree-element-icon-right"},b?{children:"keyboard_arrow_up"}:{children:"keyboard_arrow_down"}))]}))})),o&&b&&a.Children.toArray(o).map((function(t,n){return e("div",s({className:"tree-element-item"},{children:t}),n)}))]})},v=function(t){var n=t.children,i=t.className,o=u(t,["children","className"]);return a.Children.toArray(n).every((function(t){return t.type===p}))?e("div",s({className:"tree-container ".concat(i||"")},o,{children:n})):null},g=function(n){var a=n.className,o=n.children,r=n.id,d=n.selected,l=n.onClick,m=n.options,g=n.disabled,w=n.optionsDivider,b=u(n,["className","children","id","selected","onClick","options","disabled","optionsDivider"]),N=h(c(!1),2),k=N[0],y=N[1],C=i(null),x=function(t){m&&(b&&b["data-mobile"]&&(null==t||t.stopPropagation()),y(!k)),"function"==typeof l&&l()};return b&&b["data-mobile"]?e(v,{children:e(p,s({name:o,arrow:"right",onClick:x},b,{children:m&&m.map((function(t,n){return t.href?e("a",s({"data-testid":b&&b["data-testid"]?"".concat(b["data-testid"],"-option-").concat(n):void 0,href:t.href},{children:t.label}),t.id||"header-item-option-".concat(n)):e("div",s({"data-testid":b&&b["data-testid"]?"".concat(b["data-testid"],"-option-").concat(n):void 0,onClick:function(){"function"==typeof t.onClick&&t.onClick()}},{children:t.label}),t.id||"header-item-option-".concat(n))}))}))}):t("button",s({type:"button",ref:C,id:r,"data-testid":b&&b["data-testid"]?b["data-testid"]:void 0,disabled:g,onClick:x,className:"tab-list-item ".concat(d?"active":""," ").concat(a||"")},{children:[o,m&&e(f,s({className:"header-item-overflow-menu".concat(w?"_divider":""),title:o,show:k,onClose:function(){return y(!1)},parentRef:C,"data-handlecloseclick":!0,"data-testid":b&&b["data-testid"]?"".concat(b["data-testid"],"-overflow-menu"):void 0},{children:m.map((function(t,n){return t.href?e("a",s({"data-testid":b&&b["data-testid"]?"".concat(b["data-testid"],"-overflow-menu-item-").concat(n):void 0,className:"dropdown-item",href:t.href},{children:t.label}),t.id||"header-item-option-".concat(n)):e("div",s({className:"dropdown-item",onClick:function(){"function"==typeof t.onClick&&t.onClick()},"data-testid":b&&b["data-testid"]?"".concat(b["data-testid"],"-overflow-menu-item-").concat(n):void 0},{children:t.label}),t.id||"header-item-option-".concat(n))}))}))]}),"button-"+r)},w=a.memo((function(t){var n=t.children,i=t.className,c=t.disabled,r=u(t,["children","className","disabled"]),d=y(),l=d.onToggleMenu,h=d.setDropdownButtonDimensions,m=d.showMenu,f=a.useRef(null);return o((function(){if(f&&f.current){var t=f.current.getBoundingClientRect();t&&h({width:t.width,height:t.height})}}),[m]),e("div",s({className:"dropdown-button".concat(c?"_disabled":""," ").concat(i||""),onClick:l,ref:f},r,{children:n}))})),b=function(t){var n=t.className,i=t.children,c=u(t,["className","children"]),r=a.useRef(null),d=y(),h=d.showMenu,m=d.setDropdownMenuDimensions,f=d.position,p=d.dropdownRef,v=d.handleClickMenu;o((function(){if(r&&r.current){var t=r.current.getBoundingClientRect();t&&m({width:t.width,height:t.height})}}),[h]);var g=e("div",s({ref:r,className:"dropdown-menu ".concat(h?"":"hidden"," ").concat(n||""),style:f,onClick:v},c,{children:i}));if(p&&p.current){var w=document.getElementById("root");return l.createPortal(g,p.current||w||document.body)}return null},N=a.createContext({}),k=function(t){var n=t.children,a=t.className,r=t.onChangeToggleMenu,l=t.itemsDivider,m=t.forceRefresh,f=t.defaultShow,p=t.keepShown,v=void 0!==p&&p,g=t.placement,w=void 0===g?"bottom":g,b=u(t,["children","className","onChangeToggleMenu","itemsDivider","forceRefresh","defaultShow","keepShown","placement"]),k=h(c(!1),2),y=k[0],C=k[1],x=h(c(m||0),2),D=x[0],M=x[1],E=h(c({width:0,height:0}),2),O=E[0],R=E[1],S=h(c({width:0,height:0}),2),_=S[0],L=S[1],B=i(null);o((function(){void 0!==f&&f!==y&&C(f)}),[f]),o((function(){m&&D!==m&&M(m)}),[m,D]);var j=function(t){t&&t.target&&B&&B.current&&"true"===B.current.getAttribute("data-show")&&!B.current.contains(t.target)&&(C(!1),"function"==typeof r&&r(!1))};o((function(){return document.addEventListener("click",j),document.addEventListener("scroll",(function(){return M((function(t){return t++}))})),function(){document.removeEventListener("click",j),document.removeEventListener("scroll",(function(){return M((function(t){return t++}))}))}}),[]);var P=function(t,e){return"calc(".concat(t,"px - ").concat(e,"px - var(--unit))")},T=function(t,e){return"calc(".concat(t,"px + ").concat(e,"px + var(--unit))")},A=function(t,e){return"calc(".concat(t,"px + ").concat(e,"px + var(--unit))")},W=function(t,e){return"calc(".concat(t,"px - ").concat(e,"px - var(--unit))")},I=function(t){return"".concat(t,"px")},H=function(t,e,n){return"calc(".concat(t,"px + ").concat(n,"px - ").concat(e,"px)")},q=function(t){return"".concat(t,"px")},z=function(t,e,n){return"calc(".concat(t,"px + ").concat(n,"px - ").concat(e,"px)")},F=d((function(){var t,e="",n=0;if(B&&B.current){var a=B.current.getBoundingClientRect();n=O.width<_.width?_.width:O.width;var i=document.body,o=i.clientHeight,c=i.clientWidth;switch(w){case"top":e=a.top-O.height-8<0?T(a.top,_.height):P(a.top,O.height),t=a.left+n>c?H(a.left,n,_.width):I(a.left);break;case"right":t=a.left+n+8>c?W(a.left,n):A(a.left,_.width),e=a.top+O.height>o?z(a.top,O.height,_.height):q(a.top);break;case"bottom":e=a.top+O.height+8>o?P(a.top,O.height):T(a.top,_.height),t=a.left+n>c?H(a.left,n,_.width):I(a.left);break;case"left":t=a.left-n-8<0?A(a.left,_.width):W(a.left,n),e=a.top+O.height>o?z(a.top,O.height,_.height):q(a.top)}}return{left:t,top:e,width:"".concat(n,"px")}}),[O,_]);return e(N.Provider,s({value:{showMenu:y,setDropdownMenuDimensions:R,setDropdownButtonDimensions:L,handleClickMenu:function(){v||(C(!1),"function"==typeof r&&r(!1))},itemsDivider:l,dropdownRef:B,onChangeToggleMenu:r,onToggleMenu:function(){C((function(t){return"function"==typeof r&&r(!t),!t}))},position:F}},{children:e("div",s({ref:B,className:"dropdown ".concat(a||""),"data-show":y},b,{children:n}))}))},y=function(){return r(N)},C=function(i){var r,d,l,f,p,v,N=i.className,y=i.children,C=i.languages,x=i.contact,D=i.onSearch,M=i.onClickLanguage,E=u(i,["className","children","languages","contact","onSearch","onClickLanguage"]),O=function(){var t=h(c(!1),2),e=t[0],n=t[1],a=h(c(!1),2),i=a[0],r=a[1],d=h(c(!1),2),l=d[0],s=d[1];return o((function(){var t=function(){window.innerWidth<=672?(n(!0),r(!1),s(!1)):window.innerWidth<=1024?(n(!1),r(!0),s(!1)):(n(!1),r(!1),s(!0))};return t(),function(){return t()}}),[]),{isMobile:e,isTablet:i,isDesktop:l}}().isMobile;return e("div",s({className:"header ".concat(N||""),style:x&&!O?{display:"block"}:void 0},E,{children:(d=null,l=[],f=null,p=null,v=null,a.Children.forEach(y,(function(t){if(t.type===m)d=t;else if(t.type===g)if(O){var e=a.cloneElement(t,s(s({},t.props),{"data-mobile":!0,key:t.props.id||"header-item-".concat(l.length),onClick:function(){var e;"function"==typeof(null===(e=t.props)||void 0===e?void 0:e.onClick)&&t.props.onClick()}}));l.push(e)}else l.push(t)})),C&&(r=C.find((function(t){return t.selected})),f=t(k,s({className:"header-languages","data-testid":E&&E["data-testid"]?"".concat(E["data-testid"],"-languages-dropdown"):void 0},{children:[e(w,s({"data-testid":E&&E["data-testid"]?"".concat(E["data-testid"],"-languages-dropdown-btn"):void 0},{children:t(n,{children:[null==r?void 0:r.label,e("span",s({className:"material-icons"},{children:"expand_more"}))]})})),e(b,{children:e("ul",{children:C.map((function(t,n){return e("li",s({className:"dropdown-item ".concat(t.selected?"selected":""),id:t.id||"language-".concat(n),onClick:function(){"function"==typeof M&&M(t.id)},"data-testid":E&&E["data-testid"]?"".concat(E["data-testid"],"-language-").concat(n):void 0},{children:t.label}),t.id||"language-".concat(n))}))})})]}),"header-languages-dropdown")),"function"==typeof D&&(p=e("button",s({type:"button",className:"header-search",onClick:D,"data-testid":E&&E["data-testid"]?"".concat(E["data-testid"],"-search-btn"):void 0},{children:e("span",s({className:"material-icons"},{children:"search"}))}))),x&&(v=O?t(k,s({className:"header-contact-dropdown",keepShown:!0,"data-testid":E&&E["data-testid"]?"".concat(E["data-testid"],"-contact-dropdown"):void 0},{children:[e(w,s({"data-testid":E&&E["data-testid"]?"".concat(E["data-testid"],"-contact-dropdown-btn"):void 0},{children:e("span",s({className:"material-icons"},{children:"person"}))})),e(b,{children:e("a",s({"data-testid":E&&E["data-testid"]?"".concat(E["data-testid"],"-contact-link"):void 0,className:"header-contact link_small",href:x.href},{children:x.label}),"header-contact")})]})):e("a",s({"data-testid":E&&E["data-testid"]?"".concat(E["data-testid"],"-contact-link"):void 0,className:"header-contact link_small",href:x.href},{children:x.label}),"header-contact")),t(n,O?{children:[d,t("div",s({className:"header-content"},{children:[v,p,t(k,s({keepShown:!0,className:"header-items-dropdown","data-testid":E&&E["data-testid"]?"".concat(E["data-testid"],"-items-dropdown"):void 0},{children:[e(w,s({"data-testid":E&&E["data-testid"]?"".concat(E["data-testid"],"-items-dropdown-btn"):void 0},{children:e("span",s({className:"material-icons"},{children:"menu"}))})),t(b,{children:[e("div",s({className:"header-items"},{children:l})),f]})]}))]}))]}:v?{children:[t("div",s({className:"header-top"},{children:[v,f]})),t("div",s({className:"header-bottom"},{children:[d,e("div",s({className:"tab-list"},{children:l})),p]}))]}:{children:[d,e("div",s({className:"tab-list"},{children:l})),f,p]}))}))};export{g as HeaderItem,m as HeaderLogo,C as default};
//# sourceMappingURL=index.esm.js.map
