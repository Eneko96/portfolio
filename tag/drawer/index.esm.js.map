{"version":3,"file":"index.esm.js","sources":["../../src/components/drawer/drawerHeader.tsx","../../src/components/drawer/drawerBody.tsx","../../src/components/drawer/drawerFooter.tsx","../../src/components/drawer/drawer.tsx"],"sourcesContent":["import React from 'react';\n\ninterface IDrawerHeaderProps {\n  className?: string;\n  [others: string]: any;\n}\n\nconst DrawerHeader: React.FC<IDrawerHeaderProps> = ({className, children, ...rest}) => (\n  <div {...rest} className={`drawer-header ${className || ''}`}>\n    {children}\n  </div>\n);\n\nexport default DrawerHeader;\n","import React from 'react';\n\ninterface IDrawerBodyProps {\n  className?: string;\n  [others: string]: any;\n}\n\nconst DrawerBody: React.FC<IDrawerBodyProps> = ({className, children, ...rest}) => (\n  <div className={`drawer-body ${className || ''}`} {...rest}>\n    {children}\n  </div>\n);\n\nexport default DrawerBody;\n","import React from 'react';\n\ninterface IDrawerFooterProps {\n  className?: string;\n  [others: string]: any;\n}\n\nconst DrawerFooter: React.FC<IDrawerFooterProps> = ({className, children, ...rest}) => (\n  <div {...rest} className={`drawer-footer ${className || ''}`}>\n    {children}\n  </div>\n);\n\nexport default DrawerFooter;\n","import React, {useRef, useEffect} from 'react';\nimport ReactDOM from 'react-dom';\n\nexport {default as DrawerHeader} from './drawerHeader';\nexport {default as DrawerBody} from './drawerBody';\nexport {default as DrawerFooter} from './drawerFooter';\n\nexport interface IDrawerProps {\n  /**\n   * To display the drawer\n   */\n  open: boolean;\n  /**\n   * Reference for parent element and render in absolute position on parent with overlay\n   */\n  parentRef?: any;\n  /**\n   * Add class to drawer\n   */\n  className?: string;\n  /**\n   * Set drawer as a portal with overlay\n   */\n  renderAsPortal?: boolean;\n  position?: 'left' | 'right';\n  /**\n   * handler function for the close button\n   */\n  onClose?: () => void;\n  /**\n   * handler function for the back button\n   */\n  onBack?: () => void;\n  [others: string]: any;\n}\n\nconst Drawer: React.FC<IDrawerProps> = (props) => {\n  const {open, parentRef, className, children, renderAsPortal, position = 'left', onClose, onBack, ...rest} = props;\n  const drawerWrapperRef = useRef<HTMLDivElement>(null);\n\n  const handleClickOutside = (event: MouseEvent) => {\n    if (event && event.target) {\n      if (open && drawerWrapperRef && drawerWrapperRef.current && !drawerWrapperRef.current.contains(event.target as Node)) {\n        if (typeof onClose === 'function') onClose();\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (renderAsPortal) {\n      document.addEventListener('click', handleClickOutside);\n      return () => {\n        document.removeEventListener('click', handleClickOutside);\n      };\n    }\n  });\n\n  const calculateWidthAndLeft = () => {\n    let _width = '',\n      _left = '';\n    if (parentRef && parentRef.current) {\n      const parent = parentRef.current.getBoundingClientRect();\n      _width = `calc(100% - ${parent.width}px)`;\n      _left = `${parent.width}px`;\n      return {width: _width, left: _left};\n    }\n    return undefined;\n  };\n\n  const iconBack = typeof onBack === 'function' && (\n    <button\n      type=\"button\"\n      data-testid={rest && rest['data-testid'] ? `${rest['data-testid']}-icon-back` : undefined}\n      className=\"drawer-back-button\"\n      onClick={onBack}\n    >\n      <span className=\"material-icons\">arrow_back</span>\n    </button>\n  );\n\n  const iconClose = typeof onClose === 'function' && (\n    <button\n      type=\"button\"\n      data-testid={rest && rest['data-testid'] ? `${rest['data-testid']}-icon-close` : undefined}\n      className=\"drawer-close-button\"\n      onClick={onClose}\n    >\n      <span className=\"material-icons\">close</span>\n    </button>\n  );\n\n  const drawer = (\n    <div\n      ref={drawerWrapperRef}\n      data-testid={rest && rest['data-testid'] ? rest['data-testid'] : undefined}\n      className={`drawer-wrapper ${className || ''} ${renderAsPortal ? position : ''}`}\n      {...rest}\n    >\n      {(typeof onBack === 'function' || typeof onClose === 'function') && (\n        <div className=\"drawer-buttons-container\">\n          {iconBack}\n          {iconClose}\n        </div>\n      )}\n      {children}\n    </div>\n  );\n\n  const drawerOverlay = (\n    <div className=\"tag-ds drawer-overlay\" style={calculateWidthAndLeft()}>\n      {drawer}\n    </div>\n  );\n\n  const container = document.getElementById('root') || document.body;\n  return open ? renderAsPortal ? ReactDOM.createPortal(drawerOverlay, container as Element) : drawer : <></>;\n};\n\nexport default Drawer;\n"],"names":["DrawerHeader","_a","className","children","rest","__rest","_jsx","__assign","concat","DrawerBody","DrawerFooter","Drawer","props","open","parentRef","renderAsPortal","position","onClose","onBack","drawerWrapperRef","useRef","handleClickOutside","event","target","current","contains","useEffect","document","addEventListener","removeEventListener","iconBack","type","undefined","onClick","iconClose","drawer","_jsxs","ref","drawerOverlay","style","parent_1","getBoundingClientRect","width","left","calculateWidthAndLeft","container","getElementById","body","ReactDOM","createPortal","_Fragment"],"mappings":"sqBAOM,IAAAA,EAA6C,SAACC,GAAC,IAAAC,cAAWC,aAAaC,EAAzBC,EAAAJ,EAAA,CAAA,YAAA,aAAmC,OACrFK,EAAA,MAAAC,EAAA,CAAA,EAASH,EAAI,CAAEF,UAAW,iBAAAM,OAAiBN,GAAa,KAAI,CAAAC,SACzDA,MCFCM,EAAyC,SAACR,GAAC,IAAAC,cAAWC,aAAaC,EAAzBC,EAAAJ,EAAA,CAAA,YAAA,aAAmC,OACjFK,EAAA,MAAAC,EAAA,CAAKL,UAAW,sBAAeA,GAAa,KAAUE,EAAI,CAAAD,SACvDA,MCFCO,EAA6C,SAACT,GAAC,IAAAC,cAAWC,aAAaC,EAAzBC,EAAAJ,EAAA,CAAA,YAAA,aAAmC,OACrFK,EAAA,MAAAC,EAAA,CAAA,EAASH,EAAI,CAAEF,UAAW,iBAAAM,OAAiBN,GAAa,KAAI,CAAAC,SACzDA,MC2BCQ,EAAiC,SAACC,GAC/B,IAAAC,EAAqGD,EAAKC,KAApGC,EAA+FF,EAAKE,UAAzFZ,EAAoFU,EAAKV,UAA9EC,EAAyES,WAA/DG,EAA+DH,EAAjDG,eAAEd,EAA+CW,EAAKI,SAApDA,OAAQ,IAAAf,EAAG,OAAMA,EAAEgB,EAA4BL,EAAKK,QAAxBC,EAAmBN,EAAKM,OAAbd,IAAQQ,EAAtG,CAAmG,OAAA,YAAA,YAAA,WAAA,iBAAA,WAAA,UAAA,WACnGO,EAAmBC,EAAuB,MAE1CC,EAAqB,SAACC,GACtBA,GAASA,EAAMC,QACbV,GAAQM,GAAoBA,EAAiBK,UAAYL,EAAiBK,QAAQC,SAASH,EAAMC,SAC5E,mBAAZN,GAAwBA,GAGzC,EAEAS,GAAU,WACR,GAAIX,EAEF,OADAY,SAASC,iBAAiB,QAASP,GAC5B,WACLM,SAASE,oBAAoB,QAASR,EACxC,CAEJ,IAEA,IAYMS,EAA6B,mBAAXZ,GACtBZ,EAAA,SAAAC,EAAA,CACEwB,KAAK,SACQ,cAAA3B,GAAQA,EAAK,eAAiB,GAAGI,OAAAJ,EAAK,kCAA6B4B,EAChF9B,UAAU,qBACV+B,QAASf,aAETZ,EAAM,OAAAC,EAAA,CAAAL,UAAU,kBAAgB,CAAAC,SAAA,mBAI9B+B,EAA+B,mBAAZjB,GACvBX,EAAA,SAAAC,EAAA,CACEwB,KAAK,SACQ,cAAA3B,GAAQA,EAAK,eAAiB,GAAGI,OAAAJ,EAAK,mCAA8B4B,EACjF9B,UAAU,sBACV+B,QAAShB,aAETX,EAAM,OAAAC,EAAA,CAAAL,UAAU,kBAAgB,CAAAC,SAAA,cAI9BgC,EACJC,EAAA,MAAA7B,EAAA,CACE8B,IAAKlB,EACQ,cAAAf,GAAQA,EAAK,eAAiBA,EAAK,oBAAiB4B,EACjE9B,UAAW,yBAAkBA,GAAa,GAAE,KAAAM,OAAIO,EAAiBC,EAAW,KACxEZ,EAEH,CAAAD,SAAA,EAAmB,mBAAXe,GAA4C,mBAAZD,IACvCmB,EAAA,MAAA7B,EAAA,CAAKL,UAAU,4BACZ,CAAAC,SAAA,CAAA2B,EACAI,MAGJ/B,MAICmC,EACJhC,EAAK,MAAAC,EAAA,CAAAL,UAAU,wBAAwBqC,MApDX,WAG5B,GAAIzB,GAAaA,EAAUU,QAAS,CAClC,IAAMgB,EAAS1B,EAAUU,QAAQiB,wBAGjC,MAAO,CAACC,MAFC,eAAelC,OAAAgC,EAAOE,aAERC,KADf,GAAGnC,OAAAgC,EAAOE,YAEnB,CAEH,CA0CgDE,IAAuB,CAAAzC,SAClEgC,KAICU,EAAYlB,SAASmB,eAAe,SAAWnB,SAASoB,KAC9D,OAAOlC,EAAOE,EAAiBiC,EAASC,aAAaX,EAAeO,GAAwBV,EAAS7B,EAAA4C,EAAA,CAAA,EACvG"}