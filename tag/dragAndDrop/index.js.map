{"version":3,"file":"index.js","sources":["../../src/components/dragAndDrop/dragAndDrop.tsx"],"sourcesContent":["import React, {useRef, useEffect} from 'react';\n\ninterface IDragAndDropProps {\n  disabled?: boolean;\n  handleDrop?: (e: any) => void;\n  onClick?: () => void;\n  className?: string;\n  [others: string]: any;\n}\n\nconst DragAndDrop: React.FC<IDragAndDropProps> = (props) => {\n  const {disabled, children, className, onClick, ...rest} = props;\n  const dropRef = useRef<HTMLDivElement>(null);\n\n  const handleDrag = (e: any) => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  const handleDragIn = (e: any) => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  const handleDragOut = (e: any) => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  const handleDrop = (e: any) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (!disabled && e?.dataTransfer?.files && e.dataTransfer.files.length > 0) {\n      if (typeof props.handleDrop === 'function') props.handleDrop(e.dataTransfer.files);\n      if (e?.dataTransfer?.items) {\n        e.dataTransfer.items.clear();\n      } else if (typeof e?.dataTransfer?.clearData === 'function') {\n        e.dataTransfer.clearData();\n      }\n    }\n  };\n\n  useEffect(() => {\n    const divRender = dropRef.current;\n    if (!divRender) return;\n    divRender.addEventListener('dragenter', handleDragIn);\n    divRender.addEventListener('dragleave', handleDragOut);\n    divRender.addEventListener('dragover', handleDrag);\n    divRender.addEventListener('drop', handleDrop);\n    return () => {\n      if (!divRender) return;\n      divRender.removeEventListener('dragenter', handleDragIn);\n      divRender.removeEventListener('dragleave', handleDragOut);\n      divRender.removeEventListener('dragover', handleDrag);\n      divRender.removeEventListener('drop', handleDrop);\n    };\n  });\n\n  return (\n    <div\n      data-testid={rest['data-testid'] ? rest['data-testid'] : undefined}\n      className={`drag-drop ${className}`}\n      style={{display: 'inline-block', position: 'relative', width: '100%'}}\n      ref={dropRef}\n      onClick={() => {\n        if (!disabled && typeof onClick === 'function') onClick();\n      }}\n    >\n      {children}\n    </div>\n  );\n};\nexport default DragAndDrop;\n"],"names":["props","disabled","children","className","onClick","rest","__rest","dropRef","useRef","handleDrag","e","preventDefault","stopPropagation","handleDragIn","handleDragOut","handleDrop","_a","dataTransfer","files","length","_b","items","clear","_c","clearData","useEffect","divRender","current","addEventListener","removeEventListener","_jsx","undefined","concat","style","display","position","width","ref"],"mappings":"0VAUiD,SAACA,GACzC,IAAAC,EAAmDD,EAA3CC,SAAEC,EAAyCF,EAAKE,SAApCC,EAA+BH,YAApBI,EAAoBJ,EAAbI,QAAKC,2UAAIC,CAAIN,EAApD,CAAiD,WAAA,WAAA,YAAA,YACjDO,EAAUC,SAAuB,MAEjCC,EAAa,SAACC,GAClBA,EAAEC,iBACFD,EAAEE,iBACJ,EAEMC,EAAe,SAACH,GACpBA,EAAEC,iBACFD,EAAEE,iBACJ,EAEME,EAAgB,SAACJ,GACrBA,EAAEC,iBACFD,EAAEE,iBACJ,EAEMG,EAAa,SAACL,aAClBA,EAAEC,iBACFD,EAAEE,mBACGX,IAA2B,QAAfe,EAAAN,aAAC,EAADA,EAAGO,oBAAY,IAAAD,OAAA,EAAAA,EAAEE,QAASR,EAAEO,aAAaC,MAAMC,OAAS,IACvC,mBAArBnB,EAAMe,YAA2Bf,EAAMe,WAAWL,EAAEO,aAAaC,QACvD,QAAjBE,EAAAV,aAAC,EAADA,EAAGO,oBAAc,IAAAG,OAAA,EAAAA,EAAAC,OACnBX,EAAEO,aAAaI,MAAMC,QAC0B,mBAAd,QAAjBC,EAAAb,aAAC,EAADA,EAAGO,oBAAc,IAAAM,OAAA,EAAAA,EAAAC,YACjCd,EAAEO,aAAaO,YAGrB,EAkBA,OAhBAC,EAAAA,WAAU,WACR,IAAMC,EAAYnB,EAAQoB,QAC1B,GAAKD,EAKL,OAJAA,EAAUE,iBAAiB,YAAaf,GACxCa,EAAUE,iBAAiB,YAAad,GACxCY,EAAUE,iBAAiB,WAAYnB,GACvCiB,EAAUE,iBAAiB,OAAQb,GAC5B,WACAW,IACLA,EAAUG,oBAAoB,YAAahB,GAC3Ca,EAAUG,oBAAoB,YAAaf,GAC3CY,EAAUG,oBAAoB,WAAYpB,GAC1CiB,EAAUG,oBAAoB,OAAQd,GACxC,CACF,IAGEe,6BACezB,EAAK,eAAiBA,EAAK,oBAAiB0B,EACzD5B,UAAW,aAAa6B,OAAA7B,GACxB8B,MAAO,CAACC,QAAS,eAAgBC,SAAU,WAAYC,MAAO,QAC9DC,IAAK9B,EACLH,QAAS,WACFH,GAA+B,mBAAZG,GAAwBA,GACjD,GAEA,CAAAF,SAAAA,IAGP"}