"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react/jsx-runtime"),t=require("react"),n=require("react-dom");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=r(t),o=r(n),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var c in t=arguments[n])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(r=Object.getOwnPropertySymbols(e);c<r.length;c++)t.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(e,r[c])&&(n[r[c]]=e[r[c]])}return n}function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,c,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){c={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(c)throw c.error}}return i}var s=function(t){var n=t.children,r=t.className,c=a(t,["children","className"]);return e.jsx("div",i({className:"sidebar-logo ".concat(r||"")},c,{children:n}))},u=c.default.memo((function(n){var r=n.children,o=n.className,l=n.disabled,s=a(n,["children","className","disabled"]),u=p(),d=u.onToggleMenu,f=u.setDropdownButtonDimensions,h=u.showMenu,m=c.default.useRef(null);return t.useEffect((function(){if(m&&m.current){var e=m.current.getBoundingClientRect();e&&f({width:e.width,height:e.height})}}),[h]),e.jsx("div",i({className:"dropdown-button".concat(l?"_disabled":""," ").concat(o||""),onClick:d,ref:m},s,{children:r}))})),d=function(n){var r=n.className,l=n.children,s=a(n,["className","children"]),u=c.default.useRef(null),d=p(),f=d.showMenu,h=d.setDropdownMenuDimensions,m=d.position,v=d.dropdownRef,b=d.handleClickMenu;t.useEffect((function(){if(u&&u.current){var e=u.current.getBoundingClientRect();e&&h({width:e.width,height:e.height})}}),[f]);var g=e.jsx("div",i({ref:u,className:"dropdown-menu ".concat(f?"":"hidden"," ").concat(r||""),style:m,onClick:b},s,{children:l}));if(v&&v.current){var x=document.getElementById("root");return o.default.createPortal(g,v.current||x||document.body)}return null},f=c.default.createContext({}),h=function(n){var r=n.children,c=n.className,o=n.onChangeToggleMenu,s=n.itemsDivider,u=n.forceRefresh,d=n.defaultShow,h=n.keepShown,p=void 0!==h&&h,m=n.placement,v=void 0===m?"bottom":m,b=a(n,["children","className","onChangeToggleMenu","itemsDivider","forceRefresh","defaultShow","keepShown","placement"]),g=l(t.useState(!1),2),x=g[0],w=g[1],y=l(t.useState(u||0),2),j=y[0],N=y[1],C=l(t.useState({width:0,height:0}),2),S=C[0],k=C[1],M=l(t.useState({width:0,height:0}),2),D=M[0],E=M[1],O=t.useRef(null);t.useEffect((function(){void 0!==d&&d!==x&&w(d)}),[d]),t.useEffect((function(){u&&j!==u&&N(u)}),[u,j]);var _=function(e){e&&e.target&&O&&O.current&&"true"===O.current.getAttribute("data-show")&&!O.current.contains(e.target)&&(w(!1),"function"==typeof o&&o(!1))};t.useEffect((function(){return document.addEventListener("click",_),document.addEventListener("scroll",(function(){return N((function(e){return e++}))})),function(){document.removeEventListener("click",_),document.removeEventListener("scroll",(function(){return N((function(e){return e++}))}))}}),[]);var R=function(e,t){return"calc(".concat(e,"px - ").concat(t,"px - var(--unit))")},I=function(e,t){return"calc(".concat(e,"px + ").concat(t,"px + var(--unit))")},P=function(e,t){return"calc(".concat(e,"px + ").concat(t,"px + var(--unit))")},B=function(e,t){return"calc(".concat(e,"px - ").concat(t,"px - var(--unit))")},T=function(e){return"".concat(e,"px")},L=function(e,t,n){return"calc(".concat(e,"px + ").concat(n,"px - ").concat(t,"px)")},q=function(e){return"".concat(e,"px")},A=function(e,t,n){return"calc(".concat(e,"px + ").concat(n,"px - ").concat(t,"px)")},F=t.useMemo((function(){var e,t="",n=0;if(O&&O.current){var r=O.current.getBoundingClientRect();n=S.width<D.width?D.width:S.width;var c=document.body,o=c.clientHeight,i=c.clientWidth;switch(v){case"top":t=r.top-S.height-8<0?I(r.top,D.height):R(r.top,S.height),e=r.left+n>i?L(r.left,n,D.width):T(r.left);break;case"right":e=r.left+n+8>i?B(r.left,n):P(r.left,D.width),t=r.top+S.height>o?A(r.top,S.height,D.height):q(r.top);break;case"bottom":t=r.top+S.height+8>o?R(r.top,S.height):I(r.top,D.height),e=r.left+n>i?L(r.left,n,D.width):T(r.left);break;case"left":e=r.left-n-8<0?P(r.left,D.width):B(r.left,n),t=r.top+S.height>o?A(r.top,S.height,D.height):q(r.top)}}return{left:e,top:t,width:"".concat(n,"px")}}),[S,D]);return e.jsx(f.Provider,i({value:{showMenu:x,setDropdownMenuDimensions:k,setDropdownButtonDimensions:E,handleClickMenu:function(){p||(w(!1),"function"==typeof o&&o(!1))},itemsDivider:s,dropdownRef:O,onChangeToggleMenu:o,onToggleMenu:function(){w((function(e){return"function"==typeof o&&o(!e),!e}))},position:F}},{children:e.jsx("div",i({ref:O,className:"dropdown ".concat(c||""),"data-show":x},b,{children:r}))}))},p=function(){return t.useContext(f)},m=c.default.createContext({}),v=function(){return t.useContext(m)};exports.SidebarButton=function(t){var n=t.id,r=t.icon,c=t.label,o=t.dropdown,l=t.viewMore,s=t.href,f=t.disabled,p=t.className,m=t.onClick,b=t.children,g=a(t,["id","icon","label","dropdown","viewMore","href","disabled","className","onClick","children"]),x=v(),w=x.collapsed,y=x.selected,j=x.onClickItem,N=y===n,C=function(e){"function"==typeof m&&m(e),j(e)};return o?e.jsxs(h,i({className:"sidebar-button_dropdown"},{children:[e.jsx(u,{children:e.jsxs("div",i({id:n,className:"sidebar-button".concat(N?"_selected":"").concat(f?"_disabled":""," ").concat(p||""),onClick:C},g,{children:[r,!w&&e.jsxs(e.Fragment,{children:[c,!l&&e.jsx("span",i({className:"material-icons sidebar-button-arrow"},{children:"arrow_right"}))]})]}),n)}),e.jsx(d,{children:b})]})):e.jsxs("a",i({id:n,className:"sidebar-button".concat(N?"_selected":"").concat(f?"_disabled":""," ").concat(p||""),href:s,onClick:C},g,{children:[r,!w&&e.jsx("span",{children:c})]}),n)},exports.SidebarDivider=function(t){var n=t.children,r=t.className,c=a(t,["children","className"]);return v().collapsed?e.jsx("hr",i({className:"sidebar-divider"},c)):e.jsx("div",i({className:"sidebar-divider ".concat(r||"")},c,{children:n}))},exports.SidebarLogo=s,exports.default=function(n){var r=n.id,c=n.collapsed,o=n.children,u=n.defaultItemSelected,d=n.className,f=n.onClickSidebarItem,h=n.onCollapse,p=a(n,["id","collapsed","children","defaultItemSelected","className","onClickSidebarItem","onCollapse"]),v=l(t.useState(c),2),b=v[0],g=v[1],x=l(t.useState(u),2),w=x[0],y=x[1];t.useEffect((function(){u&&u!==w&&y(u)}),[u,w]);var j;return e.jsx(m.Provider,i({value:{collapsed:b,selected:w,onClickItem:function(e){var t=e.currentTarget.id;y(t),"function"==typeof f&&(e.preventDefault(),f(t))}}},{children:e.jsxs("div",i({id:r,className:"sidebar".concat(b?"_collapsed":""," ").concat(d||"")},p,{children:[function(){if(o&&o.length){var e=o.find((function(e){return e&&e.type===s}));if(e)return e}return null}(),e.jsx("button",i({type:"button","data-testid":p&&p["data-testid"]?"".concat(p["data-testid"],"-collapsed-btn"):void 0,className:"sidebar-collapsed-button",onClick:function(){"function"==typeof h&&h(!b),g(!b)}},{children:e.jsx("span",i({className:"material-icons"},{children:b?"menu":"menu_open"}))}),"sidebar-collapsed-btn"),(j=[],o&&(o.length?o.forEach((function(e){e&&e.type!==s&&j.push(e)})):o.type!==s&&j.push(o)),j)]}))}))},exports.useSidebar=v;
//# sourceMappingURL=index.js.map
