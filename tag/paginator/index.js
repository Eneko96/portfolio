"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("react/jsx-runtime"),e=require("react"),n=require("react-dom");function a(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var i=a(e),c=a(n),o=function(){return o=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function r(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]])}return n}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var a,i,c=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(a=c.next()).done;)o.push(a.value)}catch(t){i={error:t}}finally{try{a&&!a.done&&(n=c.return)&&n.call(c)}finally{if(i)throw i.error}}return o}function s(t,e,n){if(n||2===arguments.length)for(var a,i=0,c=e.length;i<c;i++)!a&&i in e||(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return t.concat(a||Array.prototype.slice.call(e))}var d=i.default.memo((function(n){var a=n.children,c=n.className,l=n.disabled,s=r(n,["children","className","disabled"]),d=f(),u=d.onToggleMenu,p=d.setDropdownButtonDimensions,h=d.showMenu,g=i.default.useRef(null);return e.useEffect((function(){if(g&&g.current){var t=g.current.getBoundingClientRect();t&&p({width:t.width,height:t.height})}}),[h]),t.jsx("div",o({className:"dropdown-button".concat(l?"_disabled":""," ").concat(c||""),onClick:u,ref:g},s,{children:a}))})),u=function(n){var a=n.className,l=n.children,s=r(n,["className","children"]),d=i.default.useRef(null),u=f(),p=u.showMenu,h=u.setDropdownMenuDimensions,g=u.position,m=u.dropdownRef,v=u.handleClickMenu;e.useEffect((function(){if(d&&d.current){var t=d.current.getBoundingClientRect();t&&h({width:t.width,height:t.height})}}),[p]);var x=t.jsx("div",o({ref:d,className:"dropdown-menu ".concat(p?"":"hidden"," ").concat(a||""),style:g,onClick:v},s,{children:l}));if(m&&m.current){var b=document.getElementById("root");return c.default.createPortal(x,m.current||b||document.body)}return null},p=i.default.createContext({}),h=function(n){var a=n.children,i=n.className,c=n.onChangeToggleMenu,s=n.itemsDivider,d=n.forceRefresh,u=n.defaultShow,h=n.keepShown,f=void 0!==h&&h,g=n.placement,m=void 0===g?"bottom":g,v=r(n,["children","className","onChangeToggleMenu","itemsDivider","forceRefresh","defaultShow","keepShown","placement"]),x=l(e.useState(!1),2),b=x[0],j=x[1],y=l(e.useState(d||0),2),N=y[0],w=y[1],C=l(e.useState({width:0,height:0}),2),k=C[0],S=C[1],_=l(e.useState({width:0,height:0}),2),O=_[0],M=_[1],E=e.useRef(null);e.useEffect((function(){void 0!==u&&u!==b&&j(u)}),[u]),e.useEffect((function(){d&&N!==d&&w(d)}),[d,N]);var R=function(t){t&&t.target&&E&&E.current&&"true"===E.current.getAttribute("data-show")&&!E.current.contains(t.target)&&(j(!1),"function"==typeof c&&c(!1))};e.useEffect((function(){return document.addEventListener("click",R),document.addEventListener("scroll",(function(){return w((function(t){return t++}))})),function(){document.removeEventListener("click",R),document.removeEventListener("scroll",(function(){return w((function(t){return t++}))}))}}),[]);var P=function(t,e){return"calc(".concat(t,"px - ").concat(e,"px - var(--unit))")},D=function(t,e){return"calc(".concat(t,"px + ").concat(e,"px + var(--unit))")},I=function(t,e){return"calc(".concat(t,"px + ").concat(e,"px + var(--unit))")},T=function(t,e){return"calc(".concat(t,"px - ").concat(e,"px - var(--unit))")},V=function(t){return"".concat(t,"px")},A=function(t,e,n){return"calc(".concat(t,"px + ").concat(n,"px - ").concat(e,"px)")},B=function(t){return"".concat(t,"px")},q=function(t,e,n){return"calc(".concat(t,"px + ").concat(n,"px - ").concat(e,"px)")},F=e.useMemo((function(){var t,e="",n=0;if(E&&E.current){var a=E.current.getBoundingClientRect();n=k.width<O.width?O.width:k.width;var i=document.body,c=i.clientHeight,o=i.clientWidth;switch(m){case"top":e=a.top-k.height-8<0?D(a.top,O.height):P(a.top,k.height),t=a.left+n>o?A(a.left,n,O.width):V(a.left);break;case"right":t=a.left+n+8>o?T(a.left,n):I(a.left,O.width),e=a.top+k.height>c?q(a.top,k.height,O.height):B(a.top);break;case"bottom":e=a.top+k.height+8>c?P(a.top,k.height):D(a.top,O.height),t=a.left+n>o?A(a.left,n,O.width):V(a.left);break;case"left":t=a.left-n-8<0?I(a.left,O.width):T(a.left,n),e=a.top+k.height>c?q(a.top,k.height,O.height):B(a.top)}}return{left:t,top:e,width:"".concat(n,"px")}}),[k,O]);return t.jsx(p.Provider,o({value:{showMenu:b,setDropdownMenuDimensions:S,setDropdownButtonDimensions:M,handleClickMenu:function(){f||(j(!1),"function"==typeof c&&c(!1))},itemsDivider:s,dropdownRef:E,onChangeToggleMenu:c,onToggleMenu:function(){j((function(t){return"function"==typeof c&&c(!t),!t}))},position:F}},{children:t.jsx("div",o({ref:E,className:"dropdown ".concat(i||""),"data-show":b},v,{children:a}))}))},f=function(){return e.useContext(p)},g=function(e){var n=e.id,a=e.value,i=e.label,c=r(e,["id","value","label"]),l=x(),s=l.selectedValue,d=l.filterValue,u=l.multiple,p=l.onSelectItem,h=l.onRemoveItem,f=function(){if(s)return u?"object"==typeof s&&void 0!==s.find((function(t){return t===a})):s===a};return!d||i.toUpperCase().includes(d.toUpperCase())?u?t.jsxs("li",o({className:"dropdown-item checkbox-container dropdown-item"},{children:[t.jsx("input",o({id:n||a,type:"checkbox",checked:f(),onChange:function(){f()?h(a):p(a)}},c)),t.jsx("label",o({htmlFor:n||a},{children:i}))]})):t.jsx("li",o({id:n,className:"dropdown-item ".concat(f()?"selected":""),onClick:function(){f()?h(a):p(a)}},c,{children:i})):null},m=i.default.createContext({}),v=function(n){var a=n.large,c=n.required,p=n.filter,f=n.multiple,g=n.disabled,v=n.error,x=n.label,b=n.placeholder,j=n.helperText,y=n.helperIcon,N=n.name,w=n.className,C=n.value,k=n.onChange,S=n.filterValue,_=n.onChangeFilter,O=n.children,M=r(n,["large","required","filter","multiple","disabled","error","label","placeholder","helperText","helperIcon","name","className","value","onChange","filterValue","onChangeFilter","children"]),E=e.useRef(),R=function(){return Array.isArray(C)&&f?C:"string"==typeof C||"number"==typeof C?f?[C]:C:f?[]:""},P=l(i.default.useState(R()),2),D=P[0],I=P[1],T=l(e.useState(S||void 0),2),V=T[0],A=T[1],B=l(e.useState(!1),2),q=B[0],F=B[1];e.useEffect((function(){R()!==D&&I(R())}),[C]),e.useEffect((function(){p&&"function"==typeof _&&S!==V&&A(S)}),[S]);var L,U=function(){f?(I([]),k&&k([])):(I(""),k&&k([]))},H=function(t){"function"==typeof _?_(t.target.value):A(t.target.value)},W=function(){"function"==typeof _?_(""):(E&&E.current&&(E.current.value=""),A(""))},z=function(){var e;if(f&&"object"==typeof D&&D.length)return t.jsx("span",o({className:"placeholder"},{children:"".concat(D.length," Options selected")}));if(D&&O){var n=O.find((function(t){var e;return(null===(e=t.props)||void 0===e?void 0:e.value)===D}));if(n)return null===(e=n.props)||void 0===e?void 0:e.label}return t.jsx("span",o({className:"placeholder"},{children:b}))};return t.jsx(m.Provider,o({value:{multiple:f,selectedValue:D,filterValue:V,onSelectItem:function(t){if(f){var e=D;e.some((function(e){return e===t}))||(e=s(s([],l(e),!1),[t],!1)),I(e),k&&k(e)}else I(t),k&&k(t)},onRemoveItem:function(t){var e;if(f){var n=D;"object"==typeof n&&(e=n&&n.length&&n.filter((function(e){return e!==t})))}else e="",k&&k("");I(e),k&&k(e)}}},{children:t.jsxs("div",o({className:"input-wrapper".concat(g?"_disabled":""," ").concat(v?"error":"","  ").concat(w||"")},{children:[x&&t.jsxs("label",o({className:"caption"},{children:[c&&t.jsx("small",{children:"*"}),x]})),t.jsxs(h,o({onChangeToggleMenu:function(t){return F(t)},keepShown:f},{children:[t.jsx(d,o({"data-testid":M&&M["data-testid"]?M["data-testid"]:void 0,disabled:g},{children:p?t.jsxs("div",o({className:"input-container"},{children:[t.jsx("input",{"data-testid":M&&M["data-testid"]?"".concat(M["data-testid"],"-input"):void 0,className:"input ".concat(a?"large":""),placeholder:D&&D.length&&f?"".concat(D.length," Options selected"):b,ref:E,type:"text",defaultValue:V,onChange:H,disabled:g}),V?t.jsx("span",o({"data-testid":M&&M["data-testid"]?"".concat(M["data-testid"],"-remove-filter-btn"):void 0,className:"material-icons input-icon-box",onClick:W},{children:"close"})):t.jsx("span",o({className:"material-icons input-icon-box"},{children:"search"}))]})):t.jsxs("div",o({className:"input-container"},{children:[t.jsx("div",o({className:a?"input_large":"input"},{children:z()})),q?t.jsx("span",o({className:"material-icons input-icon-box"},{children:"expand_less"})):t.jsx("span",o({className:"material-icons input-icon-box"},{children:"expand_more"}))]}))})),t.jsx(u,{children:t.jsx("ul",{children:O})})]})),t.jsx("input",{type:"hidden",readOnly:!0,name:N,disabled:g,value:D}),(L=null,(p||f)&&D&&D.length?(p&&!f&&(L=t.jsxs("button",o({type:"button","data-testid":M&&M["data-testid"]?"".concat(M["data-testid"],"-remove-btn"):void 0,className:"chip_active".concat(g?"_disabled":""),onClick:U},{children:[z(),t.jsx("span",o({className:"material-icons right"},{children:"close"}))]}))),f&&(L=t.jsxs("button",o({type:"button","data-testid":M&&M["data-testid"]?"".concat(M["data-testid"],"-remove-btn"):void 0,className:"chip_active".concat(g?"_disabled":""),onClick:U},{children:["".concat(D.length," Options selected"),t.jsx("span",o({className:"material-icons right"},{children:"close"}))]}))),t.jsxs("div",o({className:"select-bottom-container"},{children:[L,j&&t.jsxs("p",o({className:"input-helper-text"},{children:[y&&t.jsx("span",o({className:"material-icons"},{children:y})),j]}))]}))):j&&t.jsxs("p",o({className:"input-helper-text"},{children:[y&&t.jsx("span",o({className:"material-icons"},{children:y})),j]})))]}))}))},x=function(){return e.useContext(m)};exports.default=function(n){var a=n.pages,i=n.defaultPage,c=n.collapsed,s=n.collapsedOptions,d=n.disabled,u=n.truncate,p=n.className,h=n.onChangePage,f=r(n,["pages","defaultPage","collapsed","collapsedOptions","disabled","truncate","className","onChangePage"]),m=l(e.useState(i||1),2),x=m[0],b=m[1],j=a?Array.from({length:a},(function(t,e){return e+1})):[],y=function(){for(var t=j.length/5,e=[],n=0;n<t;n++){var a=j.slice(5*n,5*n+5);e.push(a)}return e}(),N=l(e.useState(j.length>6?Math.trunc(j.findIndex((function(t){return t===x}))/5):0),2),w=N[0],C=N[1],k=function(t){b(t),t===j[0]?C(0):t===j[j.length-1]&&C(y.length-1),"function"==typeof h&&h(t)};return j&&j.length?c?t.jsxs("div",o({className:"paginator-collapsed ".concat(p||""),"data-testid":f&&f["data-testid"]?f["data-testid"]:void 0},{children:[("left"===(null==s?void 0:s.jump)||"all"===(null==s?void 0:s.jump))&&t.jsx("button",o({type:"button",disabled:d,className:"paginator-icon ".concat(x===j[0]?"disabled":""),"data-testid":f&&f["data-testid"]?"".concat(f["data-testid"],"-button-jump-previous"):void 0,onClick:function(){return k(j[0])}},{children:t.jsx("span",o({className:"material-icons"},{children:"first_page"}))})),0!==j.length&&t.jsx("button",o({type:"button",disabled:d,className:"paginator-icon ".concat(x===j[0]?"disabled":""),"data-testid":f&&f["data-testid"]?"".concat(f["data-testid"],"-button-previous"):void 0,onClick:function(){return x!==j[0]&&k(x-1)}},{children:t.jsx("span",o({className:"material-icons"},{children:"navigate_before"}))})),t.jsx(v,o({disabled:d,name:"paginator-selector",placeholder:(null==i?void 0:i.toString())||"1",className:"paginator-collapsed-dropdown",value:x,"data-testid":f&&f["data-testid"]?"".concat(f["data-testid"],"-dropdown"):void 0,onChange:k},{children:j&&j.length>0&&j.map((function(e){return t.jsx(g,o({value:e,label:e.toString(),"data-testid":f&&f["data-testid"]?"".concat(f["data-testid"],"-dropdown-item-").concat(e):void 0},{children:e}),e+"select-item")}))})),t.jsxs("span",{children:["of ",j.length," pages"]}),0!==j.length&&t.jsx("button",o({type:"button",disabled:d,className:"paginator-icon ".concat(x===j[j.length-1]?"disabled":""),"data-testid":f&&f["data-testid"]?"".concat(f["data-testid"],"-button-next"):void 0,onClick:function(){return x!==j[j.length-1]&&k(x+1)}},{children:t.jsx("span",o({className:"material-icons"},{children:"navigate_next"}))})),("right"===(null==s?void 0:s.jump)||"all"===(null==s?void 0:s.jump))&&t.jsx("button",o({type:"button",disabled:d,className:"paginator-icon ".concat(x===j[j.length-1]?"disabled":""),"data-testid":f&&f["data-testid"]?"".concat(f["data-testid"],"-button-jump-next"):void 0,onClick:function(){return k(j[j.length-1])}},{children:t.jsx("span",o({className:"material-icons"},{children:"last_page"}))}))]})):t.jsxs("div",o({className:"paginator ".concat(p||""),"data-testid":f&&f["data-testid"]?f["data-testid"]:void 0},{children:[j.length>=6&&t.jsx("button",o({type:"button",disabled:d,className:"paginator-icon ".concat(0===w?"disabled":""),onClick:function(){C(w-1)},"data-testid":f&&f["data-testid"]?"".concat(f["data-testid"],"-button-previous"):void 0},{children:t.jsx("span",o({className:"material-icons"},{children:"navigate_before"}))})),("left"===u||"all"===u)&&0!==w&&t.jsxs(t.Fragment,{children:[t.jsx("button",o({type:"button",className:x===j[0]?"paginator-page_active":"paginator-page","data-testid":f&&f["data-testid"]?"".concat(f["data-testid"],"-truncate-left"):void 0,onClick:function(){return k(j[0])}},{children:j[0]})),t.jsx("span",o({className:"paginator-truncate"},{children:"..."}))]}),y[w].map((function(e){return t.jsx("button",o({type:"button",disabled:d,className:x===e?"paginator-page_active":"paginator-page",onClick:function(){return k(e)},"data-testid":f&&f["data-testid"]?"".concat(f["data-testid"],"-button-num-").concat(e):void 0},{children:e}),e+"paginator-num-page")})),("right"===u||"all"===u)&&w!==y.length-1&&t.jsxs(t.Fragment,{children:[t.jsx("span",o({className:"paginator-truncate"},{children:"..."})),t.jsx("button",o({type:"button",disabled:d,className:x===j[j.length-1]?"paginator-page_active":"paginator-page","data-testid":f&&f["data-testid"]?"".concat(f["data-testid"],"-truncate-right"):void 0,onClick:function(){return k(j[j.length-1])}},{children:j[j.length-1]}))]}),j.length>=6&&t.jsx("button",o({type:"button",disabled:d,className:"paginator-icon ".concat(w===y.length-1?"disabled":""),onClick:function(){C(w+1)},"data-testid":f&&f["data-testid"]?"".concat(f["data-testid"],"-button-next"):void 0},{children:t.jsx("span",o({className:"material-icons"},{children:"navigate_next"}))}))]})):null};
//# sourceMappingURL=index.js.map
