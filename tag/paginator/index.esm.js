import{jsx as t,jsxs as e,Fragment as n}from"react/jsx-runtime";import a,{useEffect as i,useContext as o,useState as c,useRef as r,useMemo as l}from"react";import d from"react-dom";var s=function(){return s=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},s.apply(this,arguments)};function u(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]])}return n}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var a,i,o=n.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(a=o.next()).done;)c.push(a.value)}catch(t){i={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return c}function h(t,e,n){if(n||2===arguments.length)for(var a,i=0,o=e.length;i<o;i++)!a&&i in e||(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return t.concat(a||Array.prototype.slice.call(e))}var f=a.memo((function(e){var n=e.children,o=e.className,c=e.disabled,r=u(e,["children","className","disabled"]),l=b(),d=l.onToggleMenu,p=l.setDropdownButtonDimensions,h=l.showMenu,f=a.useRef(null);return i((function(){if(f&&f.current){var t=f.current.getBoundingClientRect();t&&p({width:t.width,height:t.height})}}),[h]),t("div",s({className:"dropdown-button".concat(c?"_disabled":""," ").concat(o||""),onClick:d,ref:f},r,{children:n}))})),g=function(e){var n=e.className,o=e.children,c=u(e,["className","children"]),r=a.useRef(null),l=b(),p=l.showMenu,h=l.setDropdownMenuDimensions,f=l.position,g=l.dropdownRef,m=l.handleClickMenu;i((function(){if(r&&r.current){var t=r.current.getBoundingClientRect();t&&h({width:t.width,height:t.height})}}),[p]);var v=t("div",s({ref:r,className:"dropdown-menu ".concat(p?"":"hidden"," ").concat(n||""),style:f,onClick:m},c,{children:o}));if(g&&g.current){var y=document.getElementById("root");return d.createPortal(v,g.current||y||document.body)}return null},m=a.createContext({}),v=function(e){var n=e.children,a=e.className,o=e.onChangeToggleMenu,d=e.itemsDivider,h=e.forceRefresh,f=e.defaultShow,g=e.keepShown,v=void 0!==g&&g,b=e.placement,y=void 0===b?"bottom":b,N=u(e,["children","className","onChangeToggleMenu","itemsDivider","forceRefresh","defaultShow","keepShown","placement"]),w=p(c(!1),2),x=w[0],C=w[1],k=p(c(h||0),2),O=k[0],_=k[1],j=p(c({width:0,height:0}),2),M=j[0],S=j[1],D=p(c({width:0,height:0}),2),P=D[0],R=D[1],I=r(null);i((function(){void 0!==f&&f!==x&&C(f)}),[f]),i((function(){h&&O!==h&&_(h)}),[h,O]);var T=function(t){t&&t.target&&I&&I.current&&"true"===I.current.getAttribute("data-show")&&!I.current.contains(t.target)&&(C(!1),"function"==typeof o&&o(!1))};i((function(){return document.addEventListener("click",T),document.addEventListener("scroll",(function(){return _((function(t){return t++}))})),function(){document.removeEventListener("click",T),document.removeEventListener("scroll",(function(){return _((function(t){return t++}))}))}}),[]);var V=function(t,e){return"calc(".concat(t,"px - ").concat(e,"px - var(--unit))")},A=function(t,e){return"calc(".concat(t,"px + ").concat(e,"px + var(--unit))")},B=function(t,e){return"calc(".concat(t,"px + ").concat(e,"px + var(--unit))")},E=function(t,e){return"calc(".concat(t,"px - ").concat(e,"px - var(--unit))")},L=function(t){return"".concat(t,"px")},F=function(t,e,n){return"calc(".concat(t,"px + ").concat(n,"px - ").concat(e,"px)")},q=function(t){return"".concat(t,"px")},U=function(t,e,n){return"calc(".concat(t,"px + ").concat(n,"px - ").concat(e,"px)")},H=l((function(){var t,e="",n=0;if(I&&I.current){var a=I.current.getBoundingClientRect();n=M.width<P.width?P.width:M.width;var i=document.body,o=i.clientHeight,c=i.clientWidth;switch(y){case"top":e=a.top-M.height-8<0?A(a.top,P.height):V(a.top,M.height),t=a.left+n>c?F(a.left,n,P.width):L(a.left);break;case"right":t=a.left+n+8>c?E(a.left,n):B(a.left,P.width),e=a.top+M.height>o?U(a.top,M.height,P.height):q(a.top);break;case"bottom":e=a.top+M.height+8>o?V(a.top,M.height):A(a.top,P.height),t=a.left+n>c?F(a.left,n,P.width):L(a.left);break;case"left":t=a.left-n-8<0?B(a.left,P.width):E(a.left,n),e=a.top+M.height>o?U(a.top,M.height,P.height):q(a.top)}}return{left:t,top:e,width:"".concat(n,"px")}}),[M,P]);return t(m.Provider,s({value:{showMenu:x,setDropdownMenuDimensions:S,setDropdownButtonDimensions:R,handleClickMenu:function(){v||(C(!1),"function"==typeof o&&o(!1))},itemsDivider:d,dropdownRef:I,onChangeToggleMenu:o,onToggleMenu:function(){C((function(t){return"function"==typeof o&&o(!t),!t}))},position:H}},{children:t("div",s({ref:I,className:"dropdown ".concat(a||""),"data-show":x},N,{children:n}))}))},b=function(){return o(m)},y=function(n){var a=n.id,i=n.value,o=n.label,c=u(n,["id","value","label"]),r=x(),l=r.selectedValue,d=r.filterValue,p=r.multiple,h=r.onSelectItem,f=r.onRemoveItem,g=function(){if(l)return p?"object"==typeof l&&void 0!==l.find((function(t){return t===i})):l===i};return!d||o.toUpperCase().includes(d.toUpperCase())?p?e("li",s({className:"dropdown-item checkbox-container dropdown-item"},{children:[t("input",s({id:a||i,type:"checkbox",checked:g(),onChange:function(){g()?f(i):h(i)}},c)),t("label",s({htmlFor:a||i},{children:o}))]})):t("li",s({id:a,className:"dropdown-item ".concat(g()?"selected":""),onClick:function(){g()?f(i):h(i)}},c,{children:o})):null},N=a.createContext({}),w=function(n){var o=n.large,l=n.required,d=n.filter,m=n.multiple,b=n.disabled,y=n.error,w=n.label,x=n.placeholder,C=n.helperText,k=n.helperIcon,O=n.name,_=n.className,j=n.value,M=n.onChange,S=n.filterValue,D=n.onChangeFilter,P=n.children,R=u(n,["large","required","filter","multiple","disabled","error","label","placeholder","helperText","helperIcon","name","className","value","onChange","filterValue","onChangeFilter","children"]),I=r(),T=function(){return Array.isArray(j)&&m?j:"string"==typeof j||"number"==typeof j?m?[j]:j:m?[]:""},V=p(a.useState(T()),2),A=V[0],B=V[1],E=p(c(S||void 0),2),L=E[0],F=E[1],q=p(c(!1),2),U=q[0],H=q[1];i((function(){T()!==A&&B(T())}),[j]),i((function(){d&&"function"==typeof D&&S!==L&&F(S)}),[S]);var W,z=function(){m?(B([]),M&&M([])):(B(""),M&&M([]))},G=function(t){"function"==typeof D?D(t.target.value):F(t.target.value)},J=function(){"function"==typeof D?D(""):(I&&I.current&&(I.current.value=""),F(""))},K=function(){var e;if(m&&"object"==typeof A&&A.length)return t("span",s({className:"placeholder"},{children:"".concat(A.length," Options selected")}));if(A&&P){var n=P.find((function(t){var e;return(null===(e=t.props)||void 0===e?void 0:e.value)===A}));if(n)return null===(e=n.props)||void 0===e?void 0:e.label}return t("span",s({className:"placeholder"},{children:x}))};return t(N.Provider,s({value:{multiple:m,selectedValue:A,filterValue:L,onSelectItem:function(t){if(m){var e=A;e.some((function(e){return e===t}))||(e=h(h([],p(e),!1),[t],!1)),B(e),M&&M(e)}else B(t),M&&M(t)},onRemoveItem:function(t){var e;if(m){var n=A;"object"==typeof n&&(e=n&&n.length&&n.filter((function(e){return e!==t})))}else e="",M&&M("");B(e),M&&M(e)}}},{children:e("div",s({className:"input-wrapper".concat(b?"_disabled":""," ").concat(y?"error":"","  ").concat(_||"")},{children:[w&&e("label",s({className:"caption"},{children:[l&&t("small",{children:"*"}),w]})),e(v,s({onChangeToggleMenu:function(t){return H(t)},keepShown:m},{children:[t(f,s({"data-testid":R&&R["data-testid"]?R["data-testid"]:void 0,disabled:b},{children:e("div",s({className:"input-container"},d?{children:[t("input",{"data-testid":R&&R["data-testid"]?"".concat(R["data-testid"],"-input"):void 0,className:"input ".concat(o?"large":""),placeholder:A&&A.length&&m?"".concat(A.length," Options selected"):x,ref:I,type:"text",defaultValue:L,onChange:G,disabled:b}),t("span",L?s({"data-testid":R&&R["data-testid"]?"".concat(R["data-testid"],"-remove-filter-btn"):void 0,className:"material-icons input-icon-box",onClick:J},{children:"close"}):s({className:"material-icons input-icon-box"},{children:"search"}))]}:{children:[t("div",s({className:o?"input_large":"input"},{children:K()})),t("span",s({className:"material-icons input-icon-box"},U?{children:"expand_less"}:{children:"expand_more"}))]}))})),t(g,{children:t("ul",{children:P})})]})),t("input",{type:"hidden",readOnly:!0,name:O,disabled:b,value:A}),(W=null,(d||m)&&A&&A.length?(d&&!m&&(W=e("button",s({type:"button","data-testid":R&&R["data-testid"]?"".concat(R["data-testid"],"-remove-btn"):void 0,className:"chip_active".concat(b?"_disabled":""),onClick:z},{children:[K(),t("span",s({className:"material-icons right"},{children:"close"}))]}))),m&&(W=e("button",s({type:"button","data-testid":R&&R["data-testid"]?"".concat(R["data-testid"],"-remove-btn"):void 0,className:"chip_active".concat(b?"_disabled":""),onClick:z},{children:["".concat(A.length," Options selected"),t("span",s({className:"material-icons right"},{children:"close"}))]}))),e("div",s({className:"select-bottom-container"},{children:[W,C&&e("p",s({className:"input-helper-text"},{children:[k&&t("span",s({className:"material-icons"},{children:k})),C]}))]}))):C&&e("p",s({className:"input-helper-text"},{children:[k&&t("span",s({className:"material-icons"},{children:k})),C]})))]}))}))},x=function(){return o(N)},C=function(a){var i=a.pages,o=a.defaultPage,r=a.collapsed,l=a.collapsedOptions,d=a.disabled,h=a.truncate,f=a.className,g=a.onChangePage,m=u(a,["pages","defaultPage","collapsed","collapsedOptions","disabled","truncate","className","onChangePage"]),v=p(c(o||1),2),b=v[0],N=v[1],x=i?Array.from({length:i},(function(t,e){return e+1})):[],C=function(){for(var t=x.length/5,e=[],n=0;n<t;n++){var a=x.slice(5*n,5*n+5);e.push(a)}return e}(),k=p(c(x.length>6?Math.trunc(x.findIndex((function(t){return t===b}))/5):0),2),O=k[0],_=k[1],j=function(t){N(t),t===x[0]?_(0):t===x[x.length-1]&&_(C.length-1),"function"==typeof g&&g(t)};return x&&x.length?e("div",r?s({className:"paginator-collapsed ".concat(f||""),"data-testid":m&&m["data-testid"]?m["data-testid"]:void 0},{children:[("left"===(null==l?void 0:l.jump)||"all"===(null==l?void 0:l.jump))&&t("button",s({type:"button",disabled:d,className:"paginator-icon ".concat(b===x[0]?"disabled":""),"data-testid":m&&m["data-testid"]?"".concat(m["data-testid"],"-button-jump-previous"):void 0,onClick:function(){return j(x[0])}},{children:t("span",s({className:"material-icons"},{children:"first_page"}))})),0!==x.length&&t("button",s({type:"button",disabled:d,className:"paginator-icon ".concat(b===x[0]?"disabled":""),"data-testid":m&&m["data-testid"]?"".concat(m["data-testid"],"-button-previous"):void 0,onClick:function(){return b!==x[0]&&j(b-1)}},{children:t("span",s({className:"material-icons"},{children:"navigate_before"}))})),t(w,s({disabled:d,name:"paginator-selector",placeholder:(null==o?void 0:o.toString())||"1",className:"paginator-collapsed-dropdown",value:b,"data-testid":m&&m["data-testid"]?"".concat(m["data-testid"],"-dropdown"):void 0,onChange:j},{children:x&&x.length>0&&x.map((function(e){return t(y,s({value:e,label:e.toString(),"data-testid":m&&m["data-testid"]?"".concat(m["data-testid"],"-dropdown-item-").concat(e):void 0},{children:e}),e+"select-item")}))})),e("span",{children:["of ",x.length," pages"]}),0!==x.length&&t("button",s({type:"button",disabled:d,className:"paginator-icon ".concat(b===x[x.length-1]?"disabled":""),"data-testid":m&&m["data-testid"]?"".concat(m["data-testid"],"-button-next"):void 0,onClick:function(){return b!==x[x.length-1]&&j(b+1)}},{children:t("span",s({className:"material-icons"},{children:"navigate_next"}))})),("right"===(null==l?void 0:l.jump)||"all"===(null==l?void 0:l.jump))&&t("button",s({type:"button",disabled:d,className:"paginator-icon ".concat(b===x[x.length-1]?"disabled":""),"data-testid":m&&m["data-testid"]?"".concat(m["data-testid"],"-button-jump-next"):void 0,onClick:function(){return j(x[x.length-1])}},{children:t("span",s({className:"material-icons"},{children:"last_page"}))}))]}):s({className:"paginator ".concat(f||""),"data-testid":m&&m["data-testid"]?m["data-testid"]:void 0},{children:[x.length>=6&&t("button",s({type:"button",disabled:d,className:"paginator-icon ".concat(0===O?"disabled":""),onClick:function(){_(O-1)},"data-testid":m&&m["data-testid"]?"".concat(m["data-testid"],"-button-previous"):void 0},{children:t("span",s({className:"material-icons"},{children:"navigate_before"}))})),("left"===h||"all"===h)&&0!==O&&e(n,{children:[t("button",s({type:"button",className:b===x[0]?"paginator-page_active":"paginator-page","data-testid":m&&m["data-testid"]?"".concat(m["data-testid"],"-truncate-left"):void 0,onClick:function(){return j(x[0])}},{children:x[0]})),t("span",s({className:"paginator-truncate"},{children:"..."}))]}),C[O].map((function(e){return t("button",s({type:"button",disabled:d,className:b===e?"paginator-page_active":"paginator-page",onClick:function(){return j(e)},"data-testid":m&&m["data-testid"]?"".concat(m["data-testid"],"-button-num-").concat(e):void 0},{children:e}),e+"paginator-num-page")})),("right"===h||"all"===h)&&O!==C.length-1&&e(n,{children:[t("span",s({className:"paginator-truncate"},{children:"..."})),t("button",s({type:"button",disabled:d,className:b===x[x.length-1]?"paginator-page_active":"paginator-page","data-testid":m&&m["data-testid"]?"".concat(m["data-testid"],"-truncate-right"):void 0,onClick:function(){return j(x[x.length-1])}},{children:x[x.length-1]}))]}),x.length>=6&&t("button",s({type:"button",disabled:d,className:"paginator-icon ".concat(O===C.length-1?"disabled":""),onClick:function(){_(O+1)},"data-testid":m&&m["data-testid"]?"".concat(m["data-testid"],"-button-next"):void 0},{children:t("span",s({className:"material-icons"},{children:"navigate_next"}))}))]})):null};export{C as default};
//# sourceMappingURL=index.esm.js.map
