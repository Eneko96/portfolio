import{jsx as t,jsxs as e}from"react/jsx-runtime";import{useRef as a,useState as n,useEffect as l,useCallback as r}from"react";var i,o=function(){return o=Object.assign||function(t){for(var e,a=1,n=arguments.length;a<n;a++)for(var l in e=arguments[a])Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l]);return t},o.apply(this,arguments)};function c(t,e){var a={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(a[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(t);l<n.length;l++)e.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(t,n[l])&&(a[n[l]]=t[n[l]])}return a}function d(t,e){var a="function"==typeof Symbol&&t[Symbol.iterator];if(!a)return t;var n,l,r=a.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(t){l={error:t}}finally{try{n&&!n.done&&(a=r.return)&&a.call(r)}finally{if(l)throw l.error}}return i}!function(t){t[t.bb1=0]="bb1",t[t.bb2=1]="bb2"}(i||(i={}));var u=function(i){var u=i.disabled,v=i.tooltip,f=i.defaultValue,m=void 0===f?0:f,p=i.tooltipText,b=i.min,h=void 0===b?0:b,y=i.max,g=void 0===y?100:y,x=i.label,N=i.double,w=i.onChange,O=i.className,S=i.withValueTrack,k=c(i,["disabled","tooltip","defaultValue","tooltipText","min","max","label","double","onChange","className","withValueTrack"]),j=a(null),C=a(null),V=a(null),T=d(n(m),2),_=T[0],A=T[1];l((function(){if(C.current){M();var t=C.current;t.addEventListener("keydown",(function(e){document.activeElement===t&&e.shiftKey&&(e.preventDefault(),"ArrowUp"===e.key&&A((function(e){return e+5<g?(t.value=(e+5).toString(),e+5):e})),"ArrowDown"===e.key&&A((function(e){return e-5>h?(t.value=(e-5).toString(),e-5):e})))}))}}),[]);var I=r((function(t){return Math.round((t-h)/(g-h)*100)}),[h,g]);l((function(){if(C.current){var t=I(h),e=I(_);j.current&&(j.current.style.width="calc(".concat(e-t,"% ").concat(e-t<50&&e<50?"+ var(--unit) - 1%":"- 1%",")"))}}),[h,_,I]);var M=function(){if((null==V?void 0:V.current)&&(null==C?void 0:C.current)){var t=C.current.value,e=Number(100*(+t-h)/(g-h));V.current.style.left="calc(".concat(e,"% + (").concat(12-.26*e,"px))")}};return N?t(s,o({},i)):t("div",o({className:"slider-wrapper ".concat(O||"")},{children:e("div",o({},k,{className:"slider-input-container".concat(u?"_disabled":"")},{children:[t("div",{className:"slider-track"}),t("div",{ref:j,className:"slider-range".concat(u?"_disabled":"")}),t("input",{"data-testid":k["data-testid"]?k["data-testid"]+"-input-test":void 0,className:"thumb".concat(u?"_disabled":""),onChange:function(t){A(+t.target.value),w&&w(+t.target.value)},ref:C,defaultValue:m,disabled:u,"aria-label":k["aria-label"]?"".concat(k["aria-label"],"-input"):"slider-input",type:"range",onInput:v?M:void 0,min:h,max:g,list:"items"}),p&&"string"==typeof p&&t("span",o({className:"tooltip top slider","data-testid":k["data-testid"]?k["data-testid"]+"-tooltip-test":void 0,ref:V},{children:p})),S&&g&&"number"==typeof h&&t("div",o({className:"tooltip-value-track","data-testid":k["data-testid"]?k["data-testid"]+"-value-track-test":void 0},{children:Array.from(Array(g+1),(function(t,e){return e})).map((function(e){return t("option",{className:"small",value:e.toString(),label:e.toString(),style:{left:"calc(".concat(100*(e-h)/(g-h),"% + ").concat(12-100*(e-h)/(g-h)," * 0.26px)"),position:"absolute"}},e)}))})),e("div",o({"data-testid":k["data-testid"]?k["data-testid"]+"-label-test":void 0,className:"slider-label"},{children:[t("small",{children:null==x?void 0:x.left}),t("small",{children:null==x?void 0:x.right})]}))]}))}))},s=function(u){var s=u.min,v=void 0===s?0:s,f=u.max,m=void 0===f?100:f,p=u.onChange,b=u.disabled,h=u.label,y=u.tooltip,g=u.tooltipText,x=u.defaultValue,N=u.className;u.double;var w=c(u,["min","max","onChange","disabled","label","tooltip","tooltipText","defaultValue","className","double"]),O=a(null),S=d(n((null==x?void 0:x.min)||v),2),k=S[0],j=S[1],C=d(n((null==x?void 0:x.max)||m),2),V=C[0],T=C[1],_=a(null),A=a(null),I=a(null),M=a(null),P=[I,M],E=r((function(t){return Math.round((t-v)/(m-v)*100)}),[v,m]);l((function(){_.current&&A.current&&(D(i.bb1),D(i.bb2))}),[]);var D=function(t){var e=P[t],a=0===t?_:A;if((null==e?void 0:e.current)&&(null==_?void 0:_.current)&&(null==A?void 0:A.current)&&(null==a?void 0:a.current)&&+_.current.value<+A.current.value){var n=+a.current.value,l=Number(100*(n-v)/(m-v));e.current.style.left="calc(".concat(l,"% + (").concat(10-.213*l,"px))")}};return l((function(){if(A.current){var t=E(k),e=E(+A.current.value);O.current&&(O.current.style.left="".concat(t,"%"),O.current.style.width="calc(".concat(e-t,"% ").concat(e-t<50&&e<50?"+ var(--unit) - 1%":"- 1%",")"))}}),[k,E]),l((function(){if(_.current){var t=E(+_.current.value),e=E(V);O.current&&(O.current.style.width="calc(".concat(e-t,"% ").concat(e-t<50&&e<50?"+ var(--unit) - 1%":"- 1%",")"),O.current.style.left="calc(".concat(t,"%)"))}}),[V,E]),e("div",o({className:"slider-wrapper ".concat(N||"")},w,{children:[t("div",{className:"slider-track"}),t("div",{ref:O,className:"slider-range".concat(b?"_disabled":"")}),e("div",o({className:"slider-input-container"},{children:[t("input",{disabled:b,type:"range",className:"thumb".concat(b?"_disabled":""),ref:_,min:v,max:m,"data-testid":w["data-testid"]?w["data-testid"]+"-input-test":void 0,value:k,onInput:y?function(){return D(i.bb1)}:void 0,onChange:function(t){var e=Math.min(+t.target.value,V-1);j(e),p&&p({min:e,max:V}),t.target.value=e.toString()}}),(null==g?void 0:g.min)&&t("span",o({className:"tooltip top slider","data-testid":w["data-testid"]?w["data-testid"]+"-tooltip-test":void 0,ref:I},{children:null==g?void 0:g.min}))]})),e("div",o({className:"slider-input-container"},{children:[t("input",{disabled:b,type:"range",className:"thumb".concat(b?"_disabled":""),ref:A,value:V,min:v,max:m,"data-testid":w["data-testid"]?w["data-testid"]+"-input2-test":void 0,onInput:y?function(){return D(i.bb2)}:void 0,onChange:function(t){var e=Math.max(+t.target.value,k+1);T(e),p&&p({min:k,max:e}),t.target.value=e.toString()}}),(null==g?void 0:g.max)&&t("span",o({className:"tooltip top slider","data-testid":w["data-testid"]?w["data-testid"]+"-tooltip2-test":void 0,ref:M},{children:g.max}))]})),e("div",o({className:"slider-label","data-testid":w["data-testid"]?w["data-testid"]+"-label-test":void 0},{children:[t("small",{children:null==h?void 0:h.left}),t("small",{children:null==h?void 0:h.right})]}))]}))};export{u as default};
//# sourceMappingURL=index.esm.js.map
