"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("react/jsx-runtime"),e=require("react"),n=require("react-dom");function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=i(e),o=i(n),c=function(){return c=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},c.apply(this,arguments)};function a(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)c.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return c}var u=function(n){var i=n.id,r=n.activeTab,o=n.children,l=n.title,u=a(n,["id","activeTab","children","title"]);return r?e.createElement("div",c({},u,{"data-testid":u&&u["data-testid"]?"".concat(u["data-testid"],"-content"):void 0,id:"".concat(i||l,"-content"),key:"".concat(i||l,"-content"),className:"tab-content"}),o):t.jsx(t.Fragment,{})},d=r.default.memo((function(n){var i=n.children,o=n.className,l=n.disabled,u=a(n,["children","className","disabled"]),d=p(),s=d.onToggleMenu,f=d.setDropdownButtonDimensions,h=d.showMenu,v=r.default.useRef(null);return e.useEffect((function(){if(v&&v.current){var t=v.current.getBoundingClientRect();t&&f({width:t.width,height:t.height})}}),[h]),t.jsx("div",c({className:"dropdown-button".concat(l?"_disabled":""," ").concat(o||""),onClick:s,ref:v},u,{children:i}))})),s=function(n){var i=n.className,l=n.children,u=a(n,["className","children"]),d=r.default.useRef(null),s=p(),f=s.showMenu,h=s.setDropdownMenuDimensions,v=s.position,m=s.dropdownRef,b=s.handleClickMenu;e.useEffect((function(){if(d&&d.current){var t=d.current.getBoundingClientRect();t&&h({width:t.width,height:t.height})}}),[f]);var g=t.jsx("div",c({ref:d,className:"dropdown-menu ".concat(f?"":"hidden"," ").concat(i||""),style:v,onClick:b},u,{children:l}));if(m&&m.current){var y=document.getElementById("root");return o.default.createPortal(g,m.current||y||document.body)}return null},f=r.default.createContext({}),h=function(n){var i=n.children,r=n.className,o=n.onChangeToggleMenu,u=n.itemsDivider,d=n.forceRefresh,s=n.defaultShow,h=n.keepShown,p=void 0!==h&&h,v=n.placement,m=void 0===v?"bottom":v,b=a(n,["children","className","onChangeToggleMenu","itemsDivider","forceRefresh","defaultShow","keepShown","placement"]),g=l(e.useState(!1),2),y=g[0],w=g[1],x=l(e.useState(d||0),2),k=x[0],C=x[1],j=l(e.useState({width:0,height:0}),2),E=j[0],N=j[1],M=l(e.useState({width:0,height:0}),2),S=M[0],T=M[1],D=e.useRef(null);e.useEffect((function(){void 0!==s&&s!==y&&w(s)}),[s]),e.useEffect((function(){d&&k!==d&&C(d)}),[d,k]);var O=function(t){t&&t.target&&D&&D.current&&"true"===D.current.getAttribute("data-show")&&!D.current.contains(t.target)&&(w(!1),"function"==typeof o&&o(!1))};e.useEffect((function(){return document.addEventListener("click",O),document.addEventListener("scroll",(function(){return C((function(t){return t++}))})),function(){document.removeEventListener("click",O),document.removeEventListener("scroll",(function(){return C((function(t){return t++}))}))}}),[]);var R=function(t,e){return"calc(".concat(t,"px - ").concat(e,"px - var(--unit))")},P=function(t,e){return"calc(".concat(t,"px + ").concat(e,"px + var(--unit))")},B=function(t,e){return"calc(".concat(t,"px + ").concat(e,"px + var(--unit))")},A=function(t,e){return"calc(".concat(t,"px - ").concat(e,"px - var(--unit))")},L=function(t){return"".concat(t,"px")},_=function(t,e,n){return"calc(".concat(t,"px + ").concat(n,"px - ").concat(e,"px)")},q=function(t){return"".concat(t,"px")},I=function(t,e,n){return"calc(".concat(t,"px + ").concat(n,"px - ").concat(e,"px)")},W=e.useMemo((function(){var t,e="",n=0;if(D&&D.current){var i=D.current.getBoundingClientRect();n=E.width<S.width?S.width:E.width;var r=document.body,o=r.clientHeight,c=r.clientWidth;switch(m){case"top":e=i.top-E.height-8<0?P(i.top,S.height):R(i.top,E.height),t=i.left+n>c?_(i.left,n,S.width):L(i.left);break;case"right":t=i.left+n+8>c?A(i.left,n):B(i.left,S.width),e=i.top+E.height>o?I(i.top,E.height,S.height):q(i.top);break;case"bottom":e=i.top+E.height+8>o?R(i.top,E.height):P(i.top,S.height),t=i.left+n>c?_(i.left,n,S.width):L(i.left);break;case"left":t=i.left-n-8<0?B(i.left,S.width):A(i.left,n),e=i.top+E.height>o?I(i.top,E.height,S.height):q(i.top)}}return{left:t,top:e,width:"".concat(n,"px")}}),[E,S]);return t.jsx(f.Provider,c({value:{showMenu:y,setDropdownMenuDimensions:N,setDropdownButtonDimensions:T,handleClickMenu:function(){p||(w(!1),"function"==typeof o&&o(!1))},itemsDivider:u,dropdownRef:D,onChangeToggleMenu:o,onToggleMenu:function(){w((function(t){return"function"==typeof o&&o(!t),!t}))},position:W}},{children:t.jsx("div",c({ref:D,className:"dropdown ".concat(r||""),"data-show":y},b,{children:i}))}))},p=function(){return e.useContext(f)};exports.TabItem=u,exports.default=function(n){var i=n.defaultActiveTab,o=n.vertical,f=n.children,p=n.className,v=n.onChangeTab,m=a(n,["defaultActiveTab","vertical","children","className","onChangeTab"]),b=function(){var t=l(e.useState(!1),2),n=t[0],i=t[1],r=l(e.useState(!1),2),o=r[0],c=r[1],a=l(e.useState(!1),2),u=a[0],d=a[1];return e.useEffect((function(){var t=function(){window.innerWidth<=672?(i(!0),c(!1),d(!1)):window.innerWidth<=1024?(i(!1),c(!0),d(!1)):(i(!1),c(!1),d(!0))};return t(),function(){return t()}}),[]),{isMobile:n,isTablet:o,isDesktop:u}}().isMobile,g=l(e.useState(i||""),2),y=g[0],w=g[1];e.useEffect((function(){i&&i!==y&&w(i)}),[i]);var x=function(t){var e=t.currentTarget.id;w(e),"function"==typeof v&&v(e)},k=function(e,n){var i=e.filter((function(t){var e;return null===(e=t.props)||void 0===e?void 0:e.disabled})),r=e.filter((function(t){var e,n=null===(e=t.props)||void 0===e?void 0:e.className.split(" ");return"active"===n[n.length-1]}));return t.jsxs(h,c({itemsDivider:!o},{children:[t.jsx(d,c({disabled:i.length===e.length},{children:t.jsx("button",c({type:"button",className:r.length?"active":""},{children:t.jsx("span",c({className:"material-icons"},{children:"more_vert"}))}))})),t.jsx(s,{children:e})]}),"dropdown-"+n)};return t.jsxs("div",c({className:"".concat(o?"tabs-vertical":"tabs"," ").concat(p||"")},m,{children:[function(){var n,i=[],o=[],l=0;if(f)if(r.default.Children.toArray(f).length>1)r.default.Children.forEach(f,(function(t,n){if(t&&t.type===u){var r=t.props,d=r.id,s=r.disabled,f=r.title,h=r.collapsed,p=a(r,["id","disabled","title","collapsed"]);(!b&&n-l<=5||b&&n-l<3)&&!h?i.push(e.createElement("button",c({type:"button"},p,{id:d,key:"".concat(d,"-key"),disabled:s,onClick:x,className:"tab-list-item ".concat(y===d||!y&&0===n?"active":"")}),f)):(l++,o.push(e.createElement("button",c({type:"button"},p,{id:d,key:"".concat(d,"-key"),disabled:s,onClick:x,className:"dropdown-item tab-list-item ".concat(y===d||!y&&1===n?"active":"")}),f)))}}));else{var d=f;if(d&&d.type===u){var s=d.props,h=s.title,p=s.id,v=s.disabled,m=a(s,["title","id","disabled"]);(null===(n=d.props)||void 0===n?void 0:n.collapsed)?o=e.createElement("button",c({},m,{type:"button",id:p,key:"".concat(p,"-key"),disabled:v,onClick:x,className:"dropdown-item tab-list-item active"}),h):i=e.createElement("button",c({},m,{type:"button",id:p,key:"".concat(p,"-key"),disabled:v,onClick:x,className:"tab-list-item active"}),h)}}return o&&o.length&&i.push(k(o,i.length-1)),t.jsx("div",c({className:"tab-list"},{children:i}))}(),function(){var t;if(f)if(r.default.Children.toArray(f).length>1)t=r.default.Children.map(f,(function(t,e){var n;return r.default.cloneElement(t,{activeTab:y===(null===(n=t.props)||void 0===n?void 0:n.id)||!y&&0===e})}));else{var e=f;if(e.type===u)t=r.default.cloneElement(e,{activeTab:!0})}return t}()]}))};
//# sourceMappingURL=index.js.map
