{"version":3,"file":"index.esm.js","sources":["../../src/components/overflowMenu/overflowMenu.tsx"],"sourcesContent":["import React, {useEffect, useRef} from 'react';\n\nexport interface IOverflowMenuProps {\n  show: boolean;\n  /**\n   * Title of the Overflow Menu\n   */\n  title: string;\n  /**\n   * Name of the action if needed\n   */\n  action?: string;\n  /**\n   * Displays close button and handles the event\n   */\n  onClose: () => void;\n  showCloseButton?: boolean;\n  /**\n   * Handler for the action Button\n   */\n  onAction?: () => void;\n  className?: string;\n  parentRef?: any;\n  [other: string]: any;\n}\n\nconst OverflowMenu: React.FC<IOverflowMenuProps> = ({\n  show,\n  children,\n  title,\n  action,\n  onClose,\n  showCloseButton,\n  onAction,\n  className,\n  parentRef,\n  ...rest\n}) => {\n  const overflowRef = useRef<HTMLDivElement>(null);\n  const handleCloseOutsideOverflow = (event: MouseEvent) => {\n    if (event && event.target) {\n      if (\n        ((overflowRef && overflowRef.current && !overflowRef.current.contains(event.target as Node) && !parentRef) ||\n          (overflowRef &&\n            overflowRef.current &&\n            !overflowRef.current.contains(event.target as Node) &&\n            parentRef &&\n            parentRef.current &&\n            !parentRef.current.contains(event.target as Node))) &&\n        show\n      ) {\n        onClose();\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (!showCloseButton && !(rest && rest['data-handlecloseclick'])) {\n      document.addEventListener('mousemove', handleCloseOutsideOverflow);\n    } else {\n      document.addEventListener('click', handleCloseOutsideOverflow);\n    }\n    return () => {\n      document.removeEventListener('mousemove', handleCloseOutsideOverflow);\n      document.removeEventListener('click', handleCloseOutsideOverflow);\n    };\n  });\n  return show ? (\n    <div\n      ref={overflowRef}\n      className={`overflow-menu ${className || ''}`}\n      data-testid={rest['data-testid'] ? rest['data-testid'] : undefined}\n      {...rest}\n    >\n      <div className=\"overflow-menu-header\">\n        {title && <div className=\"small-title mr3\">{title}</div>}\n        {action && (\n          <div\n            className=\"overflow-menu-action link_small\"\n            onClick={onAction}\n            data-testid={rest['data-testid'] ? rest['data-testid'] + '-action-button' : undefined}\n          >\n            {action}\n          </div>\n        )}\n\n        {showCloseButton && (\n          <button\n            type=\"button\"\n            className=\"overflow-menu-close\"\n            onClick={onClose}\n            data-testid={rest['data-testid'] ? rest['data-testid'] + '-close-button' : undefined}\n          >\n            <span className=\"material-icons\">close</span>\n          </button>\n        )}\n      </div>\n      <div className=\"overflow-menu-body\">{children}</div>\n    </div>\n  ) : null;\n};\n\nexport default OverflowMenu;\n"],"names":["OverflowMenu","_a","show","children","title","action","onClose","showCloseButton","onAction","className","parentRef","rest","__rest","overflowRef","useRef","handleCloseOutsideOverflow","event","target","current","contains","useEffect","document","addEventListener","removeEventListener","_jsxs","__assign","ref","concat","undefined","_jsx","onClick","type"],"mappings":"oTA0BM,IAAAA,EAA6C,SAACC,GAClD,IAAAC,EAAID,EAAAC,KACJC,EAAQF,EAAAE,SACRC,EAAKH,EAAAG,MACLC,EAAMJ,EAAAI,OACNC,EAAOL,EAAAK,QACPC,EAAeN,EAAAM,gBACfC,EAAQP,EAAAO,SACRC,EAASR,EAAAQ,UACTC,EAAST,EAAAS,UACNC,2UAAIC,CAAAX,EAV2C,qGAY5CY,EAAcC,EAAuB,MACrCC,EAA6B,SAACC,GAC9BA,GAASA,EAAMC,SAEbJ,GAAeA,EAAYK,UAAYL,EAAYK,QAAQC,SAASH,EAAMC,UAAoBP,GAC7FG,GACCA,EAAYK,UACXL,EAAYK,QAAQC,SAASH,EAAMC,SACpCP,GACAA,EAAUQ,UACTR,EAAUQ,QAAQC,SAASH,EAAMC,UACtCf,GAEAI,GAGN,EAaA,OAXAc,GAAU,WAMR,OALKb,GAAqBI,GAAQA,EAAK,yBAGrCU,SAASC,iBAAiB,QAASP,GAFnCM,SAASC,iBAAiB,YAAaP,GAIlC,WACLM,SAASE,oBAAoB,YAAaR,GAC1CM,SAASE,oBAAoB,QAASR,EACxC,CACF,IACOb,EACLsB,EACE,MAAAC,EAAA,CAAAC,IAAKb,EACLJ,UAAW,iBAAAkB,OAAiBlB,GAAa,IAAI,cAChCE,EAAK,eAAiBA,EAAK,oBAAiBiB,GACrDjB,EAAI,CAAAR,SAAA,CAERqB,EAAK,MAAAC,EAAA,CAAAhB,UAAU,mCACZL,GAASyB,EAAK,MAAAJ,EAAA,CAAAhB,UAAU,mBAAmB,CAAAN,SAAAC,KAC3CC,GACCwB,EACE,MAAAJ,EAAA,CAAAhB,UAAU,kCACVqB,QAAStB,EAAQ,cACJG,EAAK,eAAiBA,EAAK,eAAiB,sBAAmBiB,GAAS,CAAAzB,SAEpFE,KAIJE,GACCsB,EACE,SAAAJ,EAAA,CAAAM,KAAK,SACLtB,UAAU,sBACVqB,QAASxB,EAAO,cACHK,EAAK,eAAiBA,EAAK,eAAiB,qBAAkBiB,GAAS,CAAAzB,SAEpF0B,EAAM,OAAAJ,EAAA,CAAAhB,UAAU,kBAAgB,CAAAN,SAAA,kBAItC0B,EAAK,MAAAJ,EAAA,CAAAhB,UAAU,sBAAoB,CAAAN,SAAEA,SAErC,IACN"}